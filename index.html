<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeoVigil ¬∑ AI-Autonomous-SOC Architecture</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syne:wght@400;700;800;900&family=IBM+Plex+Mono:wght@300;400;500;600&display=swap');

        :root {
            --bg: #060810;
            --l1: #22d3ee;
            --l1bg: rgba(34, 211, 238, .08);
            --l1b: rgba(34, 211, 238, .25);
            --l2: #a3e635;
            --l2bg: rgba(163, 230, 53, .08);
            --l2b: rgba(163, 230, 53, .25);
            --l3: #f59e0b;
            --l3bg: rgba(245, 158, 11, .08);
            --l3b: rgba(245, 158, 11, .25);
            --l4: #818cf8;
            --l4bg: rgba(129, 140, 248, .08);
            --l4b: rgba(129, 140, 248, .25);
            --ph1: #06b6d4;
            --ph2: #8b5cf6;
            --ph3: #f59e0b;
            --ph4: #ef4444;
            --ph5: #10b981;
            --text: #e2e8f0;
            --muted: rgba(226, 232, 240, .4);
            --border: rgba(255, 255, 255, .06);
            --card: rgba(255, 255, 255, .025);
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            background: var(--bg);
            font-family: 'IBM Plex Mono', monospace;
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ‚îÄ‚îÄ BG ‚îÄ‚îÄ */
        .bg-grid {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            background-image: linear-gradient(rgba(34, 211, 238, .025) 1px, transparent 1px), linear-gradient(90deg, rgba(34, 211, 238, .025) 1px, transparent 1px);
            background-size: 56px 56px;
        }

        .bg-g {
            position: fixed;
            pointer-events: none;
            z-index: 0;
            border-radius: 50%;
            filter: blur(140px);
            opacity: .12;
        }

        .bg-g.a {
            width: 700px;
            height: 700px;
            top: -200px;
            right: -100px;
            background: #22d3ee;
        }

        .bg-g.b {
            width: 500px;
            height: 500px;
            bottom: -100px;
            left: -80px;
            background: #818cf8;
        }

        .bg-g.c {
            width: 400px;
            height: 400px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #f59e0b;
        }

        /* Hardware acceleration hints */
        .pip,
        .sweep,
        .mq-arrow,
        .fa-track {
            will-change: transform, opacity;
        }

        .scanline {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 1;
            background: repeating-linear-gradient(to bottom, transparent 0, transparent 3px, rgba(0, 0, 0, .06) 3px, rgba(0, 0, 0, .06) 4px);
        }

        .sweep {
            position: fixed;
            top: -100%;
            left: 0;
            right: 0;
            height: 300px;
            pointer-events: none;
            z-index: 1;
            background: linear-gradient(to bottom, transparent, rgba(34, 211, 238, .02), transparent);
            animation: sweep 12s linear infinite;
        }

        @keyframes sweep {
            to {
                top: 110%;
            }
        }

        /* ‚îÄ‚îÄ LANGUAGE TOGGLE ‚îÄ‚îÄ */
        .lang-toggle {
            display: flex;
            align-items: center;
            gap: 0;
            border: 1px solid var(--border);
            border-radius: 10px;
            overflow: hidden;
            background: rgba(0, 0, 0, .4);
            backdrop-filter: blur(8px);
            flex-shrink: 0;
            position: absolute;
            top: 24px;
            right: 24px;
        }

        .lang-btn {
            padding: 8px 18px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 12px;
            font-weight: 600;
            letter-spacing: 2px;
            cursor: pointer;
            border: none;
            background: transparent;
            color: var(--muted);
            transition: all .25s;
            position: relative;
        }

        .lang-btn.active {
            background: rgba(34, 211, 238, .12);
            color: var(--l1);
        }

        .lang-btn:first-child {
            border-right: 1px solid var(--border);
        }

        .lang-btn:hover:not(.active) {
            color: var(--text);
            background: rgba(255, 255, 255, .04);
        }

        /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
        header {
            position: relative;
            z-index: 10;
            padding: 40px 24px 32px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 24px;
        }

        .brand-eyebrow {
            font-size: 11px;
            letter-spacing: 5px;
            color: var(--l1);
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .brand-title {
            font-family: 'Syne', sans-serif;
            font-size: clamp(24px, 4vw, 46px);
            font-weight: 900;
            color: #fff;
            line-height: 1;
            text-shadow: 0 0 60px rgba(34, 211, 238, .3);
        }

        .brand-title em {
            font-style: normal;
            color: var(--l1);
        }

        .brand-ver {
            display: inline-block;
            margin-left: 12px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 13px;
            color: var(--muted);
            vertical-align: middle;
        }

        .brand-sub {
            margin-top: 8px;
            font-size: 12px;
            color: var(--muted);
            letter-spacing: 1px;
        }

        .header-right {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 12px;
        }

        .status-chips {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-end;
        }

        .chip {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            border-radius: 999px;
            border: 1px solid var(--border);
            background: rgba(255, 255, 255, .02);
            font-size: 11px;
            letter-spacing: 1.5px;
            color: var(--muted);
        }

        .pip {
            width: 5px;
            height: 5px;
            border-radius: 50%;
            animation: pip 2.2s ease-in-out infinite;
        }

        @keyframes pip {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: .2;
                transform: scale(.7);
            }
        }

        .pip.c {
            background: var(--l1);
            box-shadow: 0 0 8px var(--l1);
        }

        .pip.g {
            background: #22c55e;
            box-shadow: 0 0 8px #22c55e;
            animation-delay: .5s;
        }

        .pip.y {
            background: var(--l3);
            box-shadow: 0 0 8px var(--l3);
            animation-delay: 1s;
        }

        .pip.p {
            background: var(--l4);
            box-shadow: 0 0 8px var(--l4);
            animation-delay: 1.5s;
        }

        /* ‚îÄ‚îÄ LANG FADE ‚îÄ‚îÄ */
        [data-zh],
        [data-en] {
            transition: opacity .2s;
        }

        body.lang-en [data-zh] {
            display: none;
        }

        body.lang-zh [data-en] {
            display: none;
        }

        /* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
        .main {
            position: relative;
            z-index: 5;
            padding: 40px 24px 80px;
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        /* ‚îÄ‚îÄ LAYER ‚îÄ‚îÄ */
        .layer {
            opacity: 0;
            transform: translateY(24px);
            transition: opacity .7s ease, transform .7s ease;
        }

        .layer.in {
            opacity: 1;
            transform: translateY(0);
        }

        .layer-wrap {
            border: 1px solid var(--border);
            border-radius: 16px;
            background: var(--card);
            backdrop-filter: blur(10px);
            overflow: hidden;
        }

        .layer-wrap.l1-w {
            border-color: var(--l1b);
        }

        .layer-wrap.l2-w {
            border-color: var(--l2b);
        }

        .layer-wrap.l3-w {
            border-color: var(--l3b);
        }

        .layer-wrap.l4-w {
            border-color: var(--l4b);
        }

        .layer-hd {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 24px;
            border-bottom: 1px solid var(--border);
            cursor: pointer;
            user-select: none;
            transition: background .2s;
        }

        .layer-hd:hover {
            background: rgba(255, 255, 255, .02);
        }

        .layer.collapsed .layer-hd {
            border-bottom: none;
        }

        .layer.collapsed .layer-body {
            display: none;
        }

        .lbadge {
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            padding: 4px 10px;
            border-radius: 4px;
        }

        .lname {
            font-family: 'Syne', sans-serif;
            font-size: 15px;
            font-weight: 700;
            letter-spacing: .5px;
        }

        .lsub {
            font-size: 11px;
            color: var(--muted);
            letter-spacing: 1.5px;
            margin-left: 2px;
        }

        .ltoggle {
            margin-left: auto;
            font-size: 13px;
            color: var(--muted);
            transition: transform .3s;
        }

        .layer.collapsed .ltoggle {
            transform: rotate(-90deg);
        }

        .l1-accent .lbadge {
            background: var(--l1bg);
            color: var(--l1);
        }

        .l1-accent .lname {
            color: var(--l1);
        }

        .l1-accent .layer-hd {
            border-left: 3px solid var(--l1);
        }

        .l2-accent .lbadge {
            background: var(--l2bg);
            color: var(--l2);
        }

        .l2-accent .lname {
            color: var(--l2);
        }

        .l2-accent .layer-hd {
            border-left: 3px solid var(--l2);
        }

        .l3-accent .lbadge {
            background: var(--l3bg);
            color: var(--l3);
        }

        .l3-accent .lname {
            color: var(--l3);
        }

        .l3-accent .layer-hd {
            border-left: 3px solid var(--l3);
        }

        .l4-accent .lbadge {
            background: var(--l4bg);
            color: var(--l4);
        }

        .l4-accent .lname {
            color: var(--l4);
        }

        .l4-accent .layer-hd {
            border-left: 3px solid var(--l4);
        }

        .layer-body {
            padding: 24px;
        }

        /* ‚îÄ‚îÄ INPUT CARDS ‚îÄ‚îÄ */
        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 16px;
        }

        .input-card {
            border: 1px solid var(--border);
            border-radius: 12px;
            background: rgba(0, 0, 0, .3);
            padding: 20px;
            transition: all .25s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .input-card::before {
            content: '';
            position: absolute;
            inset: 0;
            opacity: 0;
            transition: opacity .3s;
            border-radius: 12px;
        }

        .input-card:hover {
            transform: translateY(-3px);
        }

        .input-card:hover::before {
            opacity: 1;
        }

        .ic-fluent {
            border-color: rgba(34, 211, 238, .2);
        }

        .ic-fluent:hover {
            border-color: var(--l1);
            box-shadow: 0 8px 32px rgba(34, 211, 238, .15);
        }

        .ic-fluent::before {
            background: radial-gradient(circle at 50% 0, rgba(34, 211, 238, .07), transparent 70%);
        }

        .ic-crawler {
            border-color: rgba(163, 230, 53, .2);
        }

        .ic-crawler:hover {
            border-color: var(--l2);
            box-shadow: 0 8px 32px rgba(163, 230, 53, .15);
        }

        .ic-crawler::before {
            background: radial-gradient(circle at 50% 0, rgba(163, 230, 53, .07), transparent 70%);
        }

        .ic-manual {
            border-color: rgba(245, 158, 11, .2);
        }

        .ic-manual:hover {
            border-color: var(--l3);
            box-shadow: 0 8px 32px rgba(245, 158, 11, .15);
        }

        .ic-manual::before {
            background: radial-gradient(circle at 50% 0, rgba(245, 158, 11, .07), transparent 70%);
        }

        .ic-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 14px;
        }

        .ic-icon {
            font-size: 30px;
        }

        .ic-title {
            font-family: 'Syne', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
        }

        .ic-file {
            font-size: 11px;
            color: var(--muted);
            letter-spacing: .5px;
            margin-top: 1px;
        }

        .ic-steps {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .ic-step {
            display: flex;
            gap: 10px;
            align-items: flex-start;
        }

        .step-dot {
            min-width: 22px;
            height: 22px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 9px;
            font-weight: 700;
            color: #000;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .step-text {
            font-size: 12px;
            color: rgba(226, 232, 240, .65);
            line-height: 1.6;
        }

        .step-text strong {
            color: var(--text);
            font-weight: 500;
        }

        .ic-routing {
            margin-top: 14px;
            padding: 8px 12px;
            border-radius: 6px;
            background: rgba(0, 0, 0, .4);
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .rt-label {
            font-size: 11px;
            color: var(--muted);
            margin-right: 4px;
        }

        .rt-key {
            font-size: 11px;
            padding: 3px 9px;
            border-radius: 4px;
            letter-spacing: .5px;
            font-weight: 500;
        }

        /* ‚îÄ‚îÄ FLOW ARROW ‚îÄ‚îÄ */
        .flow-arrow {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 24px;
            z-index: 6;
        }

        .fa-line {
            flex: 1;
            max-width: 200px;
            height: 1px;
        }

        .fa-left {
            background: linear-gradient(to right, transparent, rgba(255, 255, 255, .12));
        }

        .fa-right {
            background: linear-gradient(to left, transparent, rgba(255, 255, 255, .12));
        }

        .fa-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
            padding: 8px 18px;
            border: 1px solid var(--border);
            border-radius: 999px;
            background: rgba(0, 0, 0, .55);
            backdrop-filter: blur(8px);
            font-size: 11px;
            letter-spacing: 1px;
            color: var(--muted);
            white-space: nowrap;
            text-align: center;
        }

        .fa-label strong {
            font-size: 12px;
            letter-spacing: 1.5px;
        }

        .fa-track {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            transform: translateX(-50%);
            pointer-events: none;
            overflow: hidden;
        }

        .fa-dot {
            position: absolute;
            width: 3px;
            height: 14px;
            border-radius: 2px;
            left: -.5px;
            animation: fdrop 1.8s linear infinite;
        }

        @keyframes fdrop {
            from {
                top: -10px;
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            to {
                top: 110%;
                opacity: 0;
            }
        }

        /* ‚îÄ‚îÄ RABBITMQ ‚îÄ‚îÄ */
        .mq-block {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .mq-visual {
            display: flex;
            align-items: center;
            gap: 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .mq-queue {
            display: flex;
            flex-direction: column;
            gap: 6px;
            min-width: 180px;
            flex: 1;
        }

        .mq-q-title {
            font-size: 11px;
            letter-spacing: 2px;
            color: var(--muted);
            text-transform: uppercase;
            margin-bottom: 4px;
        }

        .mq-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 13px;
            border-radius: 7px;
            border: 1px solid var(--border);
            background: rgba(0, 0, 0, .35);
            font-size: 12px;
            transition: all .2s;
        }

        .mq-item:hover {
            border-color: var(--l2);
            background: rgba(163, 230, 53, .05);
        }

        .mq-item .tag {
            font-size: 10px;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'IBM Plex Mono', monospace;
            letter-spacing: .5px;
            margin-right: 4px;
            font-weight: 600;
        }

        .mq-arrow {
            padding: 0 20px;
            font-size: 22px;
            color: var(--l2);
            text-shadow: 0 0 12px var(--l2);
            animation: mqa 1.5s ease-in-out infinite;
        }

        @keyframes mqa {

            0%,
            100% {
                opacity: .4;
                transform: translateX(0);
            }

            50% {
                opacity: 1;
                transform: translateX(4px);
            }
        }

        .mq-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            padding: 16px 24px;
            border: 2px solid rgba(163, 230, 53, .3);
            border-radius: 12px;
            background: rgba(163, 230, 53, .05);
            min-width: 160px;
            cursor: pointer;
        }

        .mq-center-icon {
            font-size: 34px;
        }

        .mq-center-name {
            font-family: 'Syne', sans-serif;
            font-size: 15px;
            font-weight: 700;
            color: var(--l2);
        }

        .mq-center-sub {
            font-size: 11px;
            color: var(--muted);
            text-align: center;
        }

        .mq-priority {
            margin-top: 12px;
            padding: 11px 16px;
            border-radius: 8px;
            background: rgba(163, 230, 53, .05);
            border: 1px dashed rgba(163, 230, 53, .2);
            font-size: 12px;
            color: rgba(226, 232, 240, .6);
            line-height: 1.7;
        }

        .mq-priority strong {
            color: var(--l2);
        }

        /* ‚îÄ‚îÄ COMMANDER ‚îÄ‚îÄ */
        .phases-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
        }

        .phase-card {
            border: 1px solid var(--border);
            border-radius: 12px;
            background: rgba(0, 0, 0, .35);
            overflow: hidden;
            cursor: pointer;
            transition: all .25s;
        }

        .phase-card:hover {
            transform: translateY(-3px);
        }

        .ph-head {
            padding: 14px 16px 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ph-num {
            font-family: 'Syne', sans-serif;
            font-size: 11px;
            font-weight: 800;
            padding: 4px 9px;
            border-radius: 5px;
            letter-spacing: 1px;
        }

        .ph-name {
            font-family: 'Syne', sans-serif;
            font-size: 14px;
            font-weight: 700;
        }

        .ph-sub {
            font-size: 11px;
            color: var(--muted);
            padding: 0 16px 6px;
            letter-spacing: .5px;
        }

        .ph-steps {
            padding: 0 16px 14px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .ph-step {
            display: flex;
            gap: 8px;
            align-items: flex-start;
        }

        .ph-step-n {
            min-width: 20px;
            height: 20px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 9px;
            font-weight: 700;
            color: #000;
            flex-shrink: 0;
            margin-top: 1px;
        }

        .ph-step-t {
            font-size: 11px;
            color: rgba(226, 232, 240, .6);
            line-height: 1.6;
        }

        .ph-step-t strong {
            color: var(--text);
        }

        .ph-files {
            padding: 8px 16px 14px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .ph-file {
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 4px;
            background: rgba(255, 255, 255, .05);
            color: var(--muted);
            letter-spacing: .3px;
            border: 1px solid var(--border);
        }

        .ph-innov {
            margin: 0 16px 14px;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 11px;
            line-height: 1.6;
            display: flex;
            gap: 7px;
            align-items: flex-start;
        }

        .innov-star {
            font-size: 13px;
            flex-shrink: 0;
        }

        .pc1 {
            border-color: rgba(6, 182, 212, .25);
        }

        .pc1:hover {
            border-color: var(--ph1);
            box-shadow: 0 6px 24px rgba(6, 182, 212, .15);
        }

        .pc1 .ph-num {
            background: rgba(6, 182, 212, .15);
            color: var(--ph1);
        }

        .pc1 .ph-name {
            color: var(--ph1);
        }

        .pc1 .ph-step-n {
            background: var(--ph1);
        }

        .pc1 .ph-innov {
            background: rgba(6, 182, 212, .07);
            border: 1px solid rgba(6, 182, 212, .2);
            color: rgba(6, 182, 212, .8);
        }

        .pc2 {
            border-color: rgba(139, 92, 246, .25);
        }

        .pc2:hover {
            border-color: var(--ph2);
            box-shadow: 0 6px 24px rgba(139, 92, 246, .15);
        }

        .pc2 .ph-num {
            background: rgba(139, 92, 246, .15);
            color: var(--ph2);
        }

        .pc2 .ph-name {
            color: var(--ph2);
        }

        .pc2 .ph-step-n {
            background: var(--ph2);
        }

        .pc2 .ph-innov {
            background: rgba(139, 92, 246, .07);
            border: 1px solid rgba(139, 92, 246, .2);
            color: rgba(139, 92, 246, .85);
        }

        .pc3 {
            border-color: rgba(245, 158, 11, .25);
        }

        .pc3:hover {
            border-color: var(--ph3);
            box-shadow: 0 6px 24px rgba(245, 158, 11, .15);
        }

        .pc3 .ph-num {
            background: rgba(245, 158, 11, .15);
            color: var(--ph3);
        }

        .pc3 .ph-name {
            color: var(--ph3);
        }

        .pc3 .ph-step-n {
            background: var(--ph3);
        }

        .pc3 .ph-innov {
            background: rgba(245, 158, 11, .07);
            border: 1px solid rgba(245, 158, 11, .2);
            color: rgba(245, 158, 11, .85);
        }

        .pc4 {
            border-color: rgba(239, 68, 68, .25);
        }

        .pc4:hover {
            border-color: var(--ph4);
            box-shadow: 0 6px 24px rgba(239, 68, 68, .15);
        }

        .pc4 .ph-num {
            background: rgba(239, 68, 68, .15);
            color: var(--ph4);
        }

        .pc4 .ph-name {
            color: var(--ph4);
        }

        .pc4 .ph-step-n {
            background: var(--ph4);
        }

        .pc4 .ph-innov {
            background: rgba(239, 68, 68, .07);
            border: 1px solid rgba(239, 68, 68, .2);
            color: rgba(239, 68, 68, .85);
        }

        .pc5 {
            border-color: rgba(16, 185, 129, .25);
        }

        .pc5:hover {
            border-color: var(--ph5);
            box-shadow: 0 6px 24px rgba(16, 185, 129, .15);
        }

        .pc5 .ph-num {
            background: rgba(16, 185, 129, .15);
            color: var(--ph5);
        }

        .pc5 .ph-name {
            color: var(--ph5);
        }

        .pc5 .ph-step-n {
            background: var(--ph5);
        }

        .pc5 .ph-innov {
            background: rgba(16, 185, 129, .07);
            border: 1px solid rgba(16, 185, 129, .2);
            color: rgba(16, 185, 129, .85);
        }

        .cmd-strip {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px 24px;
            background: rgba(245, 158, 11, .05);
            border-bottom: 1px solid rgba(245, 158, 11, .15);
            flex-wrap: wrap;
        }

        .cmd-icon {
            font-size: 36px;
        }

        .cmd-info {
            flex: 1;
        }

        .cmd-name {
            font-family: 'Syne', sans-serif;
            font-size: 18px;
            font-weight: 800;
            color: var(--l3);
        }

        .cmd-desc {
            font-size: 12px;
            color: var(--muted);
            margin-top: 3px;
            line-height: 1.6;
        }

        .cmd-queues {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .cmd-q {
            font-size: 11px;
            padding: 4px 12px;
            border-radius: 5px;
            background: rgba(245, 158, 11, .1);
            color: var(--l3);
            border: 1px solid rgba(245, 158, 11, .25);
            letter-spacing: .5px;
        }

        .score-bar {
            display: flex;
            gap: 10px;
            margin: 12px 0;
            flex-wrap: wrap;
        }

        .score-chip {
            padding: 8px 16px;
            border-radius: 7px;
            font-size: 12px;
            line-height: 1.5;
            flex: 1;
            min-width: 160px;
        }

        .sc-warn {
            background: rgba(245, 158, 11, .1);
            border: 1px solid rgba(245, 158, 11, .3);
            color: rgba(245, 158, 11, .9);
        }

        .sc-crit {
            background: rgba(239, 68, 68, .1);
            border: 1px solid rgba(239, 68, 68, .3);
            color: rgba(239, 68, 68, .9);
        }

        .score-chip strong {
            display: block;
            font-size: 13px;
            margin-bottom: 2px;
        }

        /* ‚îÄ‚îÄ OUTPUT ‚îÄ‚îÄ */
        .output-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 16px;
        }

        .out-card {
            border: 1px solid var(--border);
            border-radius: 12px;
            background: rgba(0, 0, 0, .3);
            padding: 20px;
            cursor: pointer;
            transition: all .25s;
        }

        .out-card:hover {
            transform: translateY(-3px);
        }

        .oc-dash,
        .oc-pdf {
            border-color: rgba(129, 140, 248, .2);
        }

        .oc-dash:hover,
        .oc-pdf:hover {
            border-color: var(--l4);
            box-shadow: 0 6px 24px rgba(129, 140, 248, .15);
        }

        .oc-head {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 14px;
        }

        .oc-icon {
            font-size: 26px;
        }

        .oc-title {
            font-family: 'Syne', sans-serif;
            font-size: 15px;
            font-weight: 700;
            color: var(--l4);
        }

        .oc-features .oc-feat strong,
        .oc-features .oc-feat strong span {
            color: #fff !important;
            font-weight: 700 !important;
        }

        .oc-file {
            font-size: 11px;
            color: var(--muted);
        }

        .oc-features {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .oc-feat {
            display: flex;
            flex-direction: column;
            gap: 3px;
            padding-left: 14px;
            position: relative;
            font-size: 12px;
            line-height: 1.5;
        }

        .oc-feat::before {
            content: '‚Ä∫';
            color: var(--l4);
            position: absolute;
            left: 0;
            top: 0;
        }

        .oc-feat strong {
            color: var(--text);
            font-weight: 600;
            font-size: 13px;
        }

        .oc-feat span {
            color: rgba(226, 232, 240, .55);
        }

        /* ‚îÄ‚îÄ GITHUB BANNER ‚îÄ‚îÄ */
        .gh-banner {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            flex-wrap: wrap;
            padding: 18px 24px;
            border: 1px solid rgba(255, 255, 255, .1);
            border-radius: 14px;
            background: linear-gradient(135deg, rgba(255, 255, 255, .03), rgba(255, 255, 255, .01));
            text-decoration: none;
            color: var(--text);
            transition: all .25s;
            backdrop-filter: blur(10px);
        }

        .gh-banner:hover {
            border-color: rgba(255, 255, 255, .22);
            background: rgba(255, 255, 255, .05);
            box-shadow: 0 4px 24px rgba(0, 0, 0, .4);
        }

        .gh-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .gh-icon {
            width: 28px;
            height: 28px;
            color: rgba(226, 232, 240, .7);
            flex-shrink: 0;
            transition: color .2s;
        }

        .gh-banner:hover .gh-icon {
            color: #fff;
        }

        .gh-title {
            font-family: 'Syne', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            letter-spacing: .3px;
        }

        .gh-desc {
            font-size: 12px;
            color: var(--muted);
            margin-top: 3px;
        }

        .gh-right {
            display: flex;
            align-items: center;
            gap: 12px;
            flex-shrink: 0;
        }

        .gh-btn {
            font-size: 13px;
            padding: 8px 18px;
            border-radius: 8px;
            background: rgba(255, 255, 255, .07);
            border: 1px solid rgba(255, 255, 255, .12);
            color: rgba(226, 232, 240, .85);
            letter-spacing: .5px;
            white-space: nowrap;
            transition: all .2s;
        }

        .gh-banner:hover .gh-btn {
            background: rgba(255, 255, 255, .12);
            border-color: rgba(255, 255, 255, .25);
            color: #fff;
        }

        .gh-arrow {
            font-size: 20px;
            color: var(--muted);
            transition: transform .2s, color .2s;
        }

        .gh-banner:hover .gh-arrow {
            transform: translate(3px, -3px);
            color: #fff;
        }

        /* ‚îÄ‚îÄ DETAIL PANEL ‚îÄ‚îÄ */
        .detail-panel {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 340px;
            background: rgba(6, 8, 16, .97);
            border: 1px solid rgba(34, 211, 238, .25);
            border-radius: 14px;
            padding: 22px;
            z-index: 200;
            box-shadow: 0 24px 60px rgba(0, 0, 0, .7), 0 0 0 1px rgba(34, 211, 238, .08) inset;
            transform: translateY(130%);
            transition: transform .4s cubic-bezier(.34, 1.56, .64, 1);
            backdrop-filter: blur(20px);
        }

        .detail-panel.show {
            transform: translateY(0);
        }

        .dp-close {
            position: absolute;
            top: 14px;
            right: 16px;
            font-size: 18px;
            color: var(--muted);
            cursor: pointer;
            transition: color .2s;
        }

        .dp-close:hover {
            color: #fff;
        }

        .dp-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .dp-name {
            font-family: 'Syne', sans-serif;
            font-size: 15px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 8px;
            line-height: 1.3;
        }

        .dp-body {
            font-size: 12px;
            line-height: 1.8;
            color: rgba(226, 232, 240, .65);
        }

        .dp-steps {
            margin-top: 12px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .dp-step {
            display: flex;
            gap: 8px;
            font-size: 11px;
            color: var(--muted);
            line-height: 1.5;
        }

        .dp-step-n {
            min-width: 22px;
            height: 22px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 9px;
            font-weight: 700;
            color: #000;
            flex-shrink: 0;
        }

        .dp-tag {
            display: inline-block;
            margin-top: 12px;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 10px;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            font-weight: 600;
        }

        @media(max-width:768px) {
            header {
                padding: 60px 20px 24px;
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }

            .lang-toggle {
                top: 16px;
                right: 20px;
            }

            .header-right {
                align-items: flex-start;
                width: 100%;
            }

            .status-chips {
                justify-content: flex-start;
                width: 100%;
            }

            .main {
                padding: 20px 16px 60px;
            }

            .input-grid {
                grid-template-columns: 1fr;
            }

            .layer-body {
                padding: 16px;
            }

            .mq-visual {
                flex-direction: column;
            }

            .mq-arrow {
                transform: none;
                padding: 10px 0;
                font-size: 28px;
                animation: mqa-v 1.5s ease-in-out infinite;
                /* Apply vertical animation */
            }

            .mq-arrow::before {
                content: '‚Üì';
                display: block;
                text-align: center;
            }

            /* Hide the original horizontal arrow text */
            .mq-arrow {
                color: transparent !important;
                text-shadow: none !important;
            }

            .mq-arrow::before {
                color: var(--l2) !important;
                text-shadow: 0 0 12px var(--l2) !important;
            }

            @keyframes mqa-v {

                0%,
                100% {
                    opacity: .4;
                    transform: translateY(0);
                }

                50% {
                    opacity: 1;
                    transform: translateY(4px);
                }
            }

            .mob-v-arrow {
                display: inline-block;
                color: transparent;
                position: relative;
            }

            .mob-v-arrow::before {
                content: '‚Üì';
                position: absolute;
                inset: 0;
                color: var(--l1);
                text-align: center;
                font-weight: 900;
            }

            .fa-label {
                backdrop-filter: none !important;
                background: rgba(0, 0, 0, 0.6) !important;
            }

            .phases-grid {
                grid-template-columns: 1fr;
            }

            .output-grid {
                grid-template-columns: 1fr;
            }

            .flow-arrow {
                padding: 20px 10px;
            }

            .fa-line {
                display: none;
            }

            .detail-panel {
                width: calc(100vw - 32px);
                right: 16px;
                bottom: 16px;
                backdrop-filter: none !important;
                background: rgba(6, 8, 16, .98) !important;
            }

            /* Performance: Disable heavy background effects on mobile */
            .bg-g,
            .scanline,
            .sweep {
                display: none !important;
            }

            .bg-grid {
                opacity: 0.4;
            }

            .layer-wrap,
            .lang-toggle,
            .gh-banner {
                backdrop-filter: none !important;
                background: rgba(255, 255, 255, .05) !important;
            }

            body.lang-zh .layer-wrap,
            body.lang-en .layer-wrap {
                background: rgba(15, 23, 42, .95) !important;
            }

            .gh-banner {
                flex-direction: column;
                align-items: flex-start;
            }

            .gh-right {
                width: 100%;
                justify-content: space-between;
            }

            .brand-title {
                font-size: 28px;
            }
        }
    </style>
</head>

<body class="lang-zh">

    <div class="bg-grid"></div>
    <div class="bg-g a"></div>
    <div class="bg-g b"></div>
    <div class="bg-g c"></div>
    <div class="scanline"></div>
    <div class="sweep"></div>

    <header>
        <div>
            <div class="brand-eyebrow">NeoVigil ¬∑ System Architecture v3.0</div>
            <div class="brand-title"><em>AI-Autonomous</em>-SOC<span class="brand-ver">// v3.0</span></div>
            <div class="brand-sub">
                <span data-zh>ÂæÆÊúçÂãô ¬∑ ÂõõÂ±§Êû∂Êßã ¬∑ ‰∫îÈöéÊÆµÈò≤Á¶¶ÈÄ±Êúü</span>
                <span data-en>Microservice ¬∑ 4-Layer Architecture ¬∑ 5-Phase Defense Lifecycle</span>
            </div>
        </div>
        <div class="header-right" style="align-items:flex-end;">
            <!-- Language Toggle -->
            <div class="lang-toggle" style="align-self:flex-end;">
                <button class="lang-btn active" id="btnZH" onclick="setLang('zh')">‰∏≠Êñá</button>
                <button class="lang-btn" id="btnEN" onclick="setLang('en')">EN</button>
            </div>
            <div class="status-chips">
                <div class="chip"><span class="pip c"></span>FLUENT BIT STREAMING</div>
                <div class="chip"><span class="pip g"></span>RABBITMQ ONLINE</div>
                <div class="chip"><span class="pip y"></span>COMMANDER AI ACTIVE</div>
                <div class="chip"><span class="pip p"></span>DASHBOARD LIVE</div>
            </div>
        </div>
    </header>

    <div class="main">

        <!-- ‚ïê‚ïê GITHUB BANNER ‚ïê‚ïê -->
        <div class="layer" id="ghbanner">
            <a href="https://github.com/uuluul/AI-autonomous-SOC" target="_blank" rel="noopener" class="gh-banner">
                <div class="gh-left">
                    <svg class="gh-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path
                            d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z" />
                    </svg>
                    <div>
                        <div class="gh-title">uuluul / AI-autonomous-SOC</div>
                        <div class="gh-desc">
                            <span data-zh>Âú® GitHub Êü•ÁúãÂéüÂßãÁ¢º„ÄÅÊñá‰ª∂ÔºåÊ≠°ËøéË≤¢ÁçªËàá Star</span>
                            <span data-en>View source code, documentation, and contribute to the project on
                                GitHub</span>
                        </div>
                    </div>
                </div>
                <div class="gh-right">
                    <span class="gh-btn">‚≠ê Star on GitHub</span>
                    <span class="gh-arrow">‚Üó</span>
                </div>
            </a>
        </div>

        <!-- ‚ïê‚ïê LAYER 1 ‚ïê‚ïê -->
        <div class="layer l1-accent" id="ly1">
            <div class="layer-wrap l1-w">
                <div class="layer-hd" onclick="tog('ly1')">
                    <span class="lbadge">LAYER 01</span>
                    <span class="lname"><span data-zh>ÊÉÖÂ†±ËíêÈõÜËàáÈÇäÁ∑£Ëº∏ÂÖ•Â±§</span><span data-en>Input & Recon Sources</span></span>
                    <span class="lsub">INPUT & RECON SOURCES</span>
                    <span class="ltoggle">‚ñæ</span>
                </div>
                <div class="layer-body">
                    <div class="input-grid">

                        <!-- Fluent Bit -->
                        <div class="input-card ic-fluent" onclick="showD('fluent')">
                            <div class="ic-header">
                                <span class="ic-icon">üõ°Ô∏è</span>
                                <div>
                                    <div class="ic-title">Fluent Bit</div>
                                    <div class="ic-file">fluent_bit.conf ¬∑ honeypot_fluent_bit.conf</div>
                                </div>
                            </div>
                            <div class="ic-steps">
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#22d3ee">S1</div>
                                    <div class="step-text">
                                        <span data-zh><strong>Êî∂ÈõÜ Log</strong> ‚Äî ÂæûÂêÑ‰º∫ÊúçÂô®„ÄÅK8s ÁØÄÈªû„ÄÅÈò≤ÁÅ´ÁâÜÊî∂ÈõÜÂéüÂßã LogÔºå‰∏çÂÅö AI
                                            ÂàÜÊûê„ÄÇ</span>
                                        <span data-en><strong>Collect Logs</strong> ‚Äî Gathers raw logs from servers, K8s
                                            nodes, and firewalls. No AI analysis at this stage.</span>
                                    </div>
                                </div>
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#22d3ee">S2</div>
                                    <div class="step-text">
                                        <span data-zh><strong>Ë≤º Routing Key Ê®ôÁ±§</strong> ‚Äî ‰æù‰æÜÊ∫êËá™ÂãïË≤ºÊ®ôÁ±§ÂæåÈÄÅÂÖ• RabbitMQ„ÄÇ</span>
                                        <span data-en><strong>Tag with Routing Keys</strong> ‚Äî Automatically labels logs
                                            by source, then publishes to RabbitMQ.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="ic-routing">
                                <span class="rt-label">Routing Keys ‚Üí</span>
                                <span class="rt-key"
                                    style="background:rgba(34,211,238,.12);color:#22d3ee">log.network</span>
                                <span class="rt-key"
                                    style="background:rgba(34,211,238,.12);color:#22d3ee">log.endpoint</span>
                                <span class="rt-key"
                                    style="background:rgba(34,211,238,.12);color:#22d3ee">log.identity</span>
                                <span class="rt-key"
                                    style="background:rgba(139,92,246,.12);color:#8b5cf6">honeypot.*</span>
                            </div>
                        </div>

                        <!-- Intelligence Crawler -->
                        <div class="input-card ic-crawler" onclick="showD('crawler')">
                            <div class="ic-header">
                                <span class="ic-icon">üïµÔ∏è‚Äç‚ôÇÔ∏è</span>
                                <div>
                                    <div class="ic-title">Intelligence Crawler</div>
                                    <div class="ic-file">intelligence_crawler.py ¬∑ <span data-zh>Áç®Á´ãÊéíÁ®ãËÖ≥Êú¨</span><span
                                            data-en>Scheduled standalone script</span></div>
                                </div>
                            </div>
                            <div class="ic-steps">
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#a3e635">S0</div>
                                    <div class="step-text">
                                        <span data-zh><strong>ÂÆöÊôÇ‰∏ªÂãïÂá∫‰ªªÂãô</strong> ‚Äî ÊØèÂ∞èÊôÇÂ∑°ÈÇè NVD„ÄÅAlienVault„ÄÅISAC„ÄÅÊöóÁ∂≤ÔºåÊäìÂèñÊúÄÊñ∞ 0-day
                                            ËàáÊÉ°ÊÑè IP/Domain IOC„ÄÇ</span>
                                        <span data-en><strong>Scheduled Patrol</strong> ‚Äî Hourly crawl of NVD,
                                            AlienVault, ISAC, and dark web to harvest the latest 0-days and malicious
                                            IP/Domain IOCs.</span>
                                    </div>
                                </div>
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#a3e635">S1</div>
                                    <div class="step-text">
                                        <span data-zh><strong>ÊâìÂåÖÊàêÊ®ôÊ∫ñ JSON</strong> ‚Äî Êï¥ÁêÜÊÉÖË≥áÔºåË≤º‰∏äÊúÄÈ´òÊ©üÂØÜÊ®ôÁ±§ÈÄÅÂÖ• RabbitMQ„ÄÇ</span>
                                        <span data-en><strong>Package as Standard JSON</strong> ‚Äî Formats intel, tags
                                            it, and publishes to RabbitMQ.</span>
                                    </div>
                                </div>
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#a3e635">S2</div>
                                    <div class="step-text">
                                        <span data-zh><strong>Commander AI Êé•Êî∂</strong> ‚Äî Â≠òÂÖ• OpenSearch Áü•Ë≠òÂ∫´ + ÂïüÂãï CVE ÊØîÂ∞ç +
                                            ‰∫ãÂâçÂ∞ÅÈéñÊÉ°ÊÑè IP„ÄÇ</span>
                                        <span data-en><strong>Commander AI Receives</strong> ‚Äî Stores in OpenSearch +
                                            triggers CVE matching + proactively blocks malicious IPs.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="ic-routing">
                                <span class="rt-label">Routing Keys ‚Üí</span>
                                <span class="rt-key"
                                    style="background:rgba(163,230,53,.12);color:#a3e635">intel.external</span>
                                <span class="rt-key"
                                    style="background:rgba(163,230,53,.12);color:#a3e635">alert.ioc</span>
                            </div>
                        </div>

                        <!-- Manual Input -->
                        <div class="input-card ic-manual" onclick="showD('manual')">
                            <div class="ic-header">
                                <span class="ic-icon">üë§</span>
                                <div>
                                    <div class="ic-title">Manual Input</div>
                                    <div class="ic-file">app_ui.py ¬∑ <span data-zh>‰∫∫Â∑•‰∏äÂÇ≥‰ªãÈù¢</span><span data-en>Human
                                            upload interface</span></div>
                                </div>
                            </div>
                            <div class="ic-steps">
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#f59e0b">S1</div>
                                    <div class="step-text">
                                        <span data-zh><strong>IT ‰∫∫Âì°‰∏äÂÇ≥</strong> ‚Äî ÈÄèÈÅé Dashboard UI ÊâãÂãï‰∏äÂÇ≥ Log Êàñ STIX
                                            Â®ÅËÑÖÂ†±Âëä„ÄÇ</span>
                                        <span data-en><strong>IT Staff Upload</strong> ‚Äî Manually uploads logs or STIX
                                            threat reports via the Dashboard UI.</span>
                                    </div>
                                </div>
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#f59e0b">S2</div>
                                    <div class="step-text">
                                        <span data-zh><strong>Ë≤º„Äå‰∫∫Â∑•Â†±Ê°à„ÄçÊ®ôÁ±§ÂÖ•Èöä</strong> ‚Äî ‰∏çÁõ¥Êé•ÂëºÂè´ LLMÔºåÈÄÅÂÖ• RabbitMQ ÊéíÈöä„ÄÇ100
                                            ‰∫∫ÂêåÊôÇ‰∏äÂÇ≥‰πü‰∏çÊúÉÂ¥©ÊΩ∞„ÄÇ</span>
                                        <span data-en><strong>Tag & Queue</strong> ‚Äî Does NOT call the LLM directly.
                                            Publishes to RabbitMQ. 100 concurrent uploads won't crash the system.</span>
                                    </div>
                                </div>
                                <div class="ic-step">
                                    <div class="step-dot" style="background:#f59e0b">S3</div>
                                    <div class="step-text">
                                        <span data-zh><strong>ÊúÄÈ´òÂÑ™ÂÖàÁ¥öËôïÁêÜ</strong> ‚Äî Commander AI Áµ¶‰∫à manual
                                            ÊúÄÈ´òÂÑ™ÂÖàÁ¥öÔºåÂÑ™ÂÖàÂàÜÊûê„ÄÇ</span>
                                        <span data-en><strong>Highest Priority Processing</strong> ‚Äî Commander AI gives
                                            manual reports the highest priority queue slot.</span>
                                    </div>
                                </div>
                            </div>
                            <div class="ic-routing">
                                <span class="rt-label">Routing Keys ‚Üí</span>
                                <span class="rt-key"
                                    style="background:rgba(245,158,11,.12);color:#f59e0b">alert.manual_upload</span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- FLOW 1‚Üí2 -->
        <div class="flow-arrow">
            <div class="fa-track">
                <div class="fa-dot" style="background:var(--l1);animation-delay:0s"></div>
                <div class="fa-dot" style="background:var(--l1);animation-delay:.9s;opacity:.4"></div>
            </div>
            <div class="fa-line fa-left"></div>
            <div class="fa-label">
                <strong><span data-zh>ÊâÄÊúâÂéüÂßãË≥áÊñô <span class="mob-v-arrow">‚Üí</span> RabbitMQ Áâ©ÊµÅÁ∏ΩÂ±Ä</span><span data-en>All
                        Raw Data <span class="mob-v-arrow">‚Üí</span> RabbitMQ Message Hub</span></strong>
                <span><span data-zh>Routing Key ÂàÜÊµÅ ¬∑ Áµ±‰∏ÄÈÄÅÂÖ•ÂÖßÈÉ®‰ΩáÂàó</span><span data-en>Routed by key ¬∑ unified internal
                        queue</span></span>
            </div>
            <div class="fa-line fa-right"></div>
        </div>

        <!-- ‚ïê‚ïê LAYER 2 ‚ïê‚ïê -->
        <div class="layer l2-accent" id="ly2" style="transition-delay:.15s">
            <div class="layer-wrap l2-w">
                <div class="layer-hd" onclick="tog('ly2')">
                    <span class="lbadge">LAYER 02</span>
                    <span class="lname"><span data-zh>‰∏≠Ê®ûÁâ©ÊµÅËàá‰ªªÂãôÂàÜÊ¥æÂ±§</span><span data-en>Message Broker & Dispatch
                            Hub</span></span>
                    <span class="lsub">RABBITMQ ¬∑ MESSAGE BROKER HUB</span>
                    <span class="ltoggle">‚ñæ</span>
                </div>
                <div class="layer-body">
                    <div class="mq-block">
                        <div class="mq-visual">
                            <div class="mq-queue">
                                <div class="mq-q-title">üì• <span data-zh>Incoming Channels</span><span data-en>Incoming
                                        Channels</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(34,211,238,.15);color:#22d3ee">log.network</span><span
                                        data-zh>Á∂≤Ë∑ØÈò≤ÁÅ´ÁâÜÊó•Ë™å</span><span data-en>Network firewall logs</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(34,211,238,.15);color:#22d3ee">log.endpoint</span><span
                                        data-zh>Windows Á´ØÈªû‰∫ã‰ª∂</span><span data-en>Windows endpoint events</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(34,211,238,.15);color:#22d3ee">log.identity</span><span
                                        data-zh>Â∏≥ËôüË°åÁÇ∫Êó•Ë™å</span><span data-en>Identity behavior logs</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(139,92,246,.15);color:#8b5cf6">honeypot.*</span><span
                                        data-zh>ËúúÁΩê‰∫íÂãïÊµÅÈáè</span><span data-en>Honeypot interaction traffic</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(163,230,53,.15);color:#a3e635">intel.external</span><span
                                        data-zh>Â§ñÈÉ® IOC ÊÉÖË≥á</span><span data-en>External IOC intelligence</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(163,230,53,.15);color:#a3e635">alert.ioc</span><span
                                        data-zh>ÊúÄÊñ∞ÊºèÊ¥ûÈÄöÂ†±</span><span data-en>Latest vulnerability alerts</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(245,158,11,.15);color:#f59e0b">alert.manual</span><span
                                        data-zh>‰∫∫Â∑•Â†±Ê°à‰∏äÂÇ≥</span><span data-en>Manual case upload</span></div>
                            </div>
                            <div class="mq-arrow">‚ü∂</div>
                            <div class="mq-center" onclick="showD('rabbitmq')">
                                <span class="mq-center-icon">üöö</span>
                                <span class="mq-center-name">RabbitMQ</span>
                                <span class="mq-center-sub">AMQP ¬∑ <span data-zh>ÂÑ™ÂÖàÁ¥ö‰ΩáÂàó<br>Èõ∂‰∏üÂ§± ¬∑ Dead Letter
                                        Queue</span><span data-en>Priority Queue<br>Zero-loss ¬∑ Dead Letter
                                        Queue</span></span>
                            </div>
                            <div class="mq-arrow">‚ü∂</div>
                            <div class="mq-queue">
                                <div class="mq-q-title">üì§ <span data-zh>AI Agent Workers (ÈÇäÁ∑£ÈÅéÊøæ)</span><span data-en>AI
                                        Agent Workers (Edge Filter)</span></div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(34,211,238,.15);color:#22d3ee">log.network</span>üö¶
                                    Network AI Worker</div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(34,211,238,.15);color:#22d3ee">log.endpoint</span>üíª
                                    Endpoint AI Worker</div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(34,211,238,.15);color:#22d3ee">log.identity</span>üîë
                                    Identity AI Worker</div>
                                <div style="height:1px;background:var(--border);margin:6px 0;"></div>
                                <div class="mq-q-title" style="margin-top:4px">üì§ Commander AI (<span
                                        data-zh>Áõ¥ÈÅî</span><span data-en>Direct</span>)</div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(239,68,68,.15);color:#ef4444">alert.critical</span>üß†
                                    Commander AI</div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(163,230,53,.15);color:#a3e635">intel.external</span>üß†
                                    Commander AI</div>
                                <div class="mq-item"><span class="tag"
                                        style="background:rgba(245,158,11,.15);color:#f59e0b">alert.manual</span>üß†
                                    Commander AI</div>
                            </div>
                        </div>
                        <div class="mq-priority">
                            <span data-zh><strong>AI Worker ÈÇäÁ∑£ÈÅéÊøæÈÇèËºØÔºö</strong>ÂêÑ Worker ‰ª•<strong>Â∞èÂûãËºïÈáè AI
                                    Ê®°Âûã</strong>ÂÅöÁßíÁ¥öÈõúË®äÈÅéÊøæ„ÄÇÊ≠£Â∏∏ÊµÅÈáè ‚Üí <strong>DropÔºàÂ§ßËÖ¶Ê∞∏‰∏çË¢´ÊâìÊìæÔºâ</strong>„ÄÇÁï∞Â∏∏ÊµÅÈáè ‚Üí ÊâìÂåÖÁÇ∫ <strong
                                    style="color:#ef4444">alert.critical</strong> ÂÜçÊ¨°ÈÄÅÂõû RabbitMQÔºåÁî± Commander AI
                                Êé•ÊâãÊ∑±Â∫¶ÂàÜÊûê„ÄÇ</span>
                            <span data-en><strong>AI Worker Edge-Filter Logic:</strong> Each Worker uses a
                                <strong>lightweight AI model</strong> for sub-second noise filtering. Normal traffic ‚Üí
                                <strong>Drop (brain is never disturbed)</strong>. Anomalous traffic ‚Üí packaged as
                                <strong style="color:#ef4444">alert.critical</strong> and re-queued to RabbitMQ for
                                Commander AI deep analysis.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- FLOW 2‚Üí3 -->
        <div class="flow-arrow">
            <div class="fa-track">
                <div class="fa-dot" style="background:var(--l2);animation-delay:.3s"></div>
                <div class="fa-dot" style="background:var(--l2);animation-delay:1.2s;opacity:.4"></div>
            </div>
            <div class="fa-line fa-left"></div>
            <div class="fa-label">
                <strong>alert.critical / intel.external / alert.manual ‚Üí Commander AI</strong>
                <span><span data-zh>Âè™ÊúâÈ´òÂç±Ê°à‰ª∂ÊâçÊúÉÂñöÈÜíÊúÄÂº∑Â§ßÁöÑ LLM</span><span data-en>Only high-risk cases wake the most powerful
                        LLM</span></span>
            </div>
            <div class="fa-line fa-right"></div>
        </div>

        <!-- ‚ïê‚ïê LAYER 3 ‚ïê‚ïê -->
        <div class="layer l3-accent" id="ly3" style="transition-delay:.3s">
            <div class="layer-wrap l3-w">
                <div class="layer-hd" onclick="tog('ly3')">
                    <span class="lbadge">LAYER 03</span>
                    <span class="lname"><span data-zh>Commander AI ¬∑ ‰∫îÈöéÊÆµÈò≤Á¶¶ÁîüÂëΩÈÄ±Êúü</span><span data-en>Commander AI ¬∑
                            5-Phase Defense Lifecycle</span></span>
                    <span class="lsub">CORE LLM PIPELINE ¬∑ run_pipeline.py ¬∑ llm_client.py</span>
                    <span class="ltoggle">‚ñæ</span>
                </div>
                <div class="layer-body" style="padding:0;">
                    <div class="cmd-strip">
                        <span class="cmd-icon">üß†</span>
                        <div class="cmd-info">
                            <div class="cmd-name">Commander AI ‚Äî <span data-zh>Âü∑Ë°åÈï∑Â§ßËÖ¶</span><span data-en>The CEO
                                    Brain</span></div>
                            <div class="cmd-desc">
                                <span data-zh>Áõ£ËÅΩ‰∏âÂÄãÈ´òÂç±È†ªÈÅì ¬∑ ÂïüÂãïÊúÄÂº∑ LLM ÈÄ≤Ë°åË∑®Á∂≠Â∫¶Ê∑±Â∫¶ÂàÜÊûê ¬∑ ‰∏ãÈÅî‰∫îÈöéÊÆµÈò≤Á¶¶Ê±∫Á≠ñ</span>
                                <span data-en>Monitors 3 high-risk channels ¬∑ Activates the most powerful LLM for
                                    multi-dimensional analysis ¬∑ Issues 5-phase defense commands</span>
                            </div>
                        </div>
                        <div class="cmd-queues">
                            <span class="cmd-q">alert.critical</span>
                            <span class="cmd-q">intel.external</span>
                            <span class="cmd-q">alert.manual_upload</span>
                        </div>
                    </div>
                    <div style="padding:20px;">
                        <div class="score-bar">
                            <div class="score-chip sc-warn">
                                <strong>Score ‚â• 70 ‚Üí <span data-zh>ÊΩõÂú®Â®ÅËÑÖ</span><span data-en>Potential
                                        Threat</span></strong>
                                <span data-zh>Ëß∏Áôº Phase 2 DECEIVEÔºàË™òÊçïÊ¨∫ÊïµÔºâ</span><span data-en>Triggers Phase 2 DECEIVE
                                    (deception &amp; trapping)</span>
                            </div>
                            <div class="score-chip sc-crit">
                                <strong>Score ‚â• 85 ‚Üí <span data-zh>Á∑äÊÄ•Â®ÅËÑÖ</span><span data-en>Critical
                                        Threat</span></strong>
                                <span data-zh>ÂêåÊ≠•Ëß∏Áôº Phase 3 MUTATEÔºàÁßªÂãïÁõÆÊ®ôÈò≤Á¶¶Ôºâ</span><span data-en>Simultaneously triggers
                                    Phase 3 MUTATE (moving target defense)</span>
                            </div>
                        </div>
                        <div class="phases-grid">

                            <!-- PH 1 -->
                            <div class="phase-card pc1" onclick="showD('ph1')">
                                <div class="ph-head"><span class="ph-num">PH.1</span><span
                                        class="ph-name">PREDICT</span></div>
                                <div class="ph-sub"><span data-zh>È†êÊ∏¨ËàáÈ¢®Èö™Ë©ï‰º∞</span><span data-en>Prediction & Risk
                                        Scoring</span></div>
                                <div class="ph-steps">
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph1)">1</div>
                                        <div class="ph-step-t"><span data-zh><strong>PII ÂéªË≠òÂà•Âåñ</strong> ‚Äî pii_masker.py
                                                Ê≠£ÂâáÈÅÆËîΩ Email/IP/ÊâãÊ©üÔºåGDPR ÂêàË¶è„ÄÇ</span><span data-en><strong>PII
                                                    De-identification</strong> ‚Äî pii_masker.py uses regex to mask
                                                Email/IP/phone. GDPR compliant.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph1)">2</div>
                                        <div class="ph-step-t"><span data-zh><strong>Áü•Ë≠òÊì¥ÂÖÖ</strong> ‚Äî cve_enrichment.py
                                                ÊØîÂ∞çÊºèÊ¥ûÂ∫´Ôºõcmdb_mock.py Êü•Ë≥áÁî¢ÈáçË¶ÅÊÄß„ÄÇ</span><span data-en><strong>Knowledge
                                                    Enrichment</strong> ‚Äî cve_enrichment.py cross-references
                                                vulnerability DB; cmdb_mock.py checks asset criticality.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph1)">3</div>
                                        <div class="ph-step-t"><span data-zh><strong>Ê©´ÂêëÁßªÂãïÈ†êÊ∏¨</strong> ‚Äî
                                                adversarial_engine.py + topology_graph.py Ê®°Êì¨Èß≠ÂÆ¢‰∏ã‰∏ÄÊ≠•„ÄÇ</span><span
                                                data-en><strong>Lateral Movement Prediction</strong> ‚Äî
                                                adversarial_engine.py + topology_graph.py simulate the attacker's next
                                                move.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph1)">4</div>
                                        <div class="ph-step-t"><span data-zh><strong>Â§öÁ∂≠Â∫¶È¢®Èö™Ë©ïÂàÜ</strong> ‚Äî LLM Áµ¶Âá∫ 0‚Äì100
                                                È¢®Èö™ÂàÜÊï∏ÔºåÊ±∫ÂÆöËß∏ÁôºÂì™‰∫õ Phase„ÄÇ</span><span data-en><strong>Multi-dimensional Risk
                                                    Score</strong> ‚Äî LLM outputs a 0‚Äì100 risk score to determine which
                                                Phases to trigger.</span></div>
                                    </div>
                                </div>
                                <div class="ph-files"><span class="ph-file">pii_masker.py</span><span
                                        class="ph-file">cve_enrichment.py</span><span
                                        class="ph-file">cmdb_mock.py</span><span
                                        class="ph-file">adversarial_engine.py</span><span
                                        class="ph-file">topology_graph.py</span><span
                                        class="ph-file">llm_client.py</span></div>
                            </div>

                            <!-- PH 2 -->
                            <div class="phase-card pc2" onclick="showD('ph2')">
                                <div class="ph-head"><span class="ph-num">PH.2</span><span
                                        class="ph-name">DECEIVE</span></div>
                                <div class="ph-sub"><span data-zh>ÂãïÊÖãË™òÊçïËàáË≥áÊñôÊäïÊØí</span><span data-en>Dynamic Deception & Data
                                        Poisoning</span></div>
                                <div class="ph-steps">
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph2)">1</div>
                                        <div class="ph-step-t"><span data-zh><strong>Êà∞Ë°ìË™òÈ§åË®≠Ë®à</strong> ‚Äî decoy_manager.py
                                                ÈÅ∏ÊìáÊúÄËÉΩÂê∏ÂºïË©≤Èß≠ÂÆ¢ÁöÑÊ®°ÊùøÔºàÂ¶ÇÂÅá MySQLÔºâ„ÄÇ</span><span data-en><strong>Tactical Decoy
                                                    Design</strong> ‚Äî decoy_manager.py selects the most enticing
                                                template for the attacker (e.g. fake MySQL).</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph2)">2</div>
                                        <div class="ph-step-t"><span data-zh><strong>Ê¨°‰∏ñ‰ª£Ë≥áÊñôÊäïÊØí</strong> ‚Äî Áî¢Áîü
                                                fake_secrets.json / poisoned_db.sqlÔºåËÆìÈß≠ÂÆ¢ AIÔºàWormGPTÔºâÂπªË¶∫Â¥©ÊΩ∞„ÄÇ</span><span
                                                data-en><strong>Next-Gen Data Poisoning</strong> ‚Äî Generates
                                                fake_secrets.json / poisoned_db.sql to induce hallucinations in attacker
                                                AIs (WormGPT).</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph2)">3</div>
                                        <div class="ph-step-t"><span data-zh><strong>Ê•µÈÄüÂÆπÂô®ÈÉ®ÁΩ≤</strong> ‚Äî Docker Python SDK
                                                Âú®ÂπæÁßíÂÖßÊãâËµ∑Ë™òÈ§åÂÆπÂô®„ÄÇ</span><span data-en><strong>Rapid Container
                                                    Deployment</strong> ‚Äî Docker Python SDK spins up decoy containers
                                                within seconds.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph2)">4</div>
                                        <div class="ph-step-t"><span data-zh><strong>Èô∑Èò±ÈÅôÊ∏¨ËøΩËπ§</strong> ‚Äî
                                                honeypot_fluent_bit.conf ÂõûÂÇ≥Á¥îÊ∑®Èß≠ÂÆ¢Ë°åÁÇ∫ÔºåÁ≤æÊ∫ñÂãæÂãíÊåáÁ¥ã„ÄÇ</span><span
                                                data-en><strong>Trap Telemetry</strong> ‚Äî honeypot_fluent_bit.conf
                                                returns clean attacker behavior to profile their fingerprint
                                                precisely.</span></div>
                                    </div>
                                </div>
                                <div class="ph-files"><span class="ph-file">decoy_manager.py</span><span
                                        class="ph-file">decoy_templates.py</span><span
                                        class="ph-file">fake_secrets.json</span><span
                                        class="ph-file">poisoned_db.sql</span></div>
                                <div class="ph-innov"><span class="innov-star">‚ú¶</span><span
                                        data-zh>ÂâµÊñ∞ÈªûÔºöÊäïÊØíÂÅáÊÉÖË≥áÂ∞àÈñÄË®≠Ë®àËÆìÈß≠ÂÆ¢‰ΩøÁî®ÁöÑËá™ÂãïÂåñÊîªÊìä AI Áî¢ÁîüÂπªË¶∫ÊàñÈÇèËºØÂ¥©ÊΩ∞„ÄÇ</span><span data-en>Innovation:
                                        Poisoned data is engineered to cause hallucinations and logic collapse in
                                        automated attacker AIs.</span></div>
                            </div>

                            <!-- PH 3 -->
                            <div class="phase-card pc3" onclick="showD('ph3')">
                                <div class="ph-head"><span class="ph-num">PH.3</span><span class="ph-name">MUTATE</span>
                                </div>
                                <div class="ph-sub"><span data-zh>ÁßªÂãïÁõÆÊ®ôÈò≤Á¶¶ MTD</span><span data-en>Moving Target Defense
                                        (MTD)</span></div>
                                <div class="ph-steps">
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph3)">1</div>
                                        <div class="ph-step-t"><span data-zh><strong>ËÆäÁï∞Á≠ñÁï•Âà§ÂÆö</strong> ‚Äî mtd_controller.py
                                                Ê±∫ÂÆö„ÄåËºïÂæÆÊ∑∑Ê∑Ü„ÄçÈÇÑÊòØ„ÄåÂæπÂ∫ïÈÅ∑Áßª„Äç„ÄÇ</span><span data-en><strong>Mutation Strategy</strong>
                                                ‚Äî mtd_controller.py decides between "light obfuscation" or "full
                                                migration".</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph3)">2</div>
                                        <div class="ph-step-t"><span data-zh><strong>ÈÄöË®äÂ±§Ê∑∑Ê∑Ü</strong> ‚Äî
                                                obfuscation_engine.py ‰øÆÊîπ mtd_nginx.confÔºåÂãïÊÖãÊõ¥Êèõ URL / Header /
                                                Âä†ÂØÜÊñπÂºè„ÄÇ</span><span data-en><strong>Comm Layer Obfuscation</strong> ‚Äî
                                                obfuscation_engine.py modifies mtd_nginx.conf, dynamically rotating
                                                URLs, headers, and encryption.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph3)">3</div>
                                        <div class="ph-step-t"><span data-zh><strong>Êï∏‰ΩçÈõôÁîüË°ùÊìäÈ©óË≠â</strong> ‚Äî Cyber Digital
                                                Twin Ê®°Êì¨ÊµÅÈáèÔºåÁ¢∫Ë™ç Zero Downtime ÊâçÂÖÅË®±Âü∑Ë°å„ÄÇ</span><span data-en><strong>Digital
                                                    Twin Impact Check</strong> ‚Äî Cyber Digital Twin simulates traffic to
                                                confirm Zero Downtime before executing.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph3)">4</div>
                                        <div class="ph-step-t"><span data-zh><strong>ËóçÁ∂†ÈÉ®ÁΩ≤Áí∞Â¢ÉÈáçÂ°ë</strong> ‚Äî
                                                migration_engine.py ÂïüÂãï‰πæÊ∑®ÂÆπÂô®ÔºåÊµÅÈáèÂàáÊèõÂæåÈä∑ÊØÄËàäÁí∞Â¢É„ÄÇ</span><span
                                                data-en><strong>Blue-Green Redeploy</strong> ‚Äî migration_engine.py
                                                launches a clean container, swaps traffic, then destroys the old
                                                environment.</span></div>
                                    </div>
                                </div>
                                <div class="ph-files"><span class="ph-file">mtd_controller.py</span><span
                                        class="ph-file">obfuscation_engine.py</span><span
                                        class="ph-file">mtd_nginx.conf</span><span
                                        class="ph-file">migration_engine.py</span></div>
                                <div class="ph-innov"><span class="innov-star">‚ú¶</span><span data-zh>Cyber Digital Twin
                                        Á¢∫‰øùÊØèÊ¨° MTD Â§ßË¶èÊ®°ËÆäÁï∞ÂâçÔºåÂÖàÊ®°Êì¨È©óË≠âÈõ∂Ê•≠Âãô‰∏≠Êñ∑„ÄÇ</span><span data-en>Cyber Digital Twin guarantees
                                        every large-scale MTD mutation is simulation-validated for zero business
                                        disruption.</span></div>
                            </div>

                            <!-- PH 4 -->
                            <div class="phase-card pc4" onclick="showD('ph4')">
                                <div class="ph-head"><span class="ph-num">PH.4</span><span
                                        class="ph-name">CONTAIN</span></div>
                                <div class="ph-sub"><span data-zh>Ëá™ÂãïÂåñÈòªÊñ∑ËàáÈöîÈõ¢</span><span data-en>Automated Containment &
                                        Isolation</span></div>
                                <div class="ph-steps">
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph4)">1</div>
                                        <div class="ph-step-t"><span data-zh><strong>Ë°åÂãïÂäáÊú¨Áî¢Âá∫</strong> ‚Äî to_stix.py
                                                Ëº∏Âá∫Â®ÅËÑÖÊÉÖË≥áÔºõLLM Êí∞ÂØ´ soar_playbook.json ÂèçÊìäÊåá‰ª§„ÄÇ</span><span
                                                data-en><strong>Playbook Generation</strong> ‚Äî to_stix.py outputs threat
                                                intel; LLM authors soar_playbook.json counter-attack commands.</span>
                                        </div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph4)">2</div>
                                        <div class="ph-step-t"><span data-zh><strong>Á°¨È´îÁ¥ö API ÈòªÊñ∑</strong> ‚Äî mock_soar.py
                                                + firewall_mock.py Â∞çÈò≤ÁÅ´ÁâÜ‰∏ã REJECTÔºåÁßíÁ¥öÂ∞ÅÈéñÊîªÊìäÊ∫ê IP„ÄÇ</span><span
                                                data-en><strong>Hardware-level API Block</strong> ‚Äî mock_soar.py +
                                                firewall_mock.py issue REJECT to the firewall, blocking the attacker's
                                                IP within seconds.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph4)">3</div>
                                        <div class="ph-step-t"><span data-zh><strong>IaC Ëá™Êàë‰øÆÂæ©</strong> ‚Äî AI ÂàÜÊûê
                                                Terraform/Nginx ÊºèÊ¥ûÔºåËá™ÂãïÂØ´ Patch ‚Üí PR ‚Üí CI/CD ÈáçÈÉ®ÁΩ≤„ÄåÂÖçÁñ´Âæå„ÄçÂü∫Âª∫„ÄÇ</span><span
                                                data-en><strong>IaC Self-Healing</strong> ‚Äî AI analyzes Terraform/Nginx
                                                vulnerabilities, auto-writes a Patch ‚Üí PR ‚Üí CI/CD redeploys patched
                                                infrastructure.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph4)">4</div>
                                        <div class="ph-step-t"><span data-zh><strong>‰∏çÂèØÁ´ÑÊîπÁ®ΩÊ†∏</strong> ‚Äî audit_logger.py
                                                ÂØ´ÂÖ• OpenSearch Á®ΩÊ†∏Á¥¢ÂºïÔºåÊôÇÈñìÊà≥Ë®òÁ∞ΩÁ´†ÔºåÊ≥ïË¶èÈëëË≠ò‰æùÊìö„ÄÇ</span><span data-en><strong>Immutable
                                                    Audit Log</strong> ‚Äî audit_logger.py writes to OpenSearch with
                                                timestamped signatures for forensic and compliance evidence.</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="ph-files"><span class="ph-file">to_stix.py</span><span
                                        class="ph-file">soar_playbook.json</span><span
                                        class="ph-file">mock_soar.py</span><span
                                        class="ph-file">firewall_mock.py</span><span
                                        class="ph-file">audit_logger.py</span></div>
                                <div class="ph-innov"><span class="innov-star">‚ú¶</span><span data-zh>Self-Healing IaCÔºöAI
                                        Ëá™ÂãïÂØ´ Patch„ÄÅÊèê‰∫§ PR„ÄÅËß∏Áôº CI/CDÔºåÁÑ°ÈúÄ‰∫∫Â∑•‰ªãÂÖ•Âü∫Âª∫‰øÆÂæ©„ÄÇ</span><span data-en>Self-Healing IaC: AI
                                        auto-writes the Patch, submits a PR, and triggers CI/CD ‚Äî zero human
                                        intervention required.</span></div>
                            </div>

                            <!-- PH 5 -->
                            <div class="phase-card pc5" onclick="showD('ph5')">
                                <div class="ph-head"><span class="ph-num">PH.5</span><span class="ph-name">ADAPT</span>
                                </div>
                                <div class="ph-sub"><span data-zh>Â§ßËÖ¶Ëá™ÊàëÈÄ≤Âåñ</span><span data-en>Brain Self-Evolution</span>
                                </div>
                                <div class="ph-steps">
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph5)">1</div>
                                        <div class="ph-step-t"><span data-zh><strong>ÊÉÖÂ†±ÂìÅË≥™ÊéßÁÆ°</strong> ‚Äî validate_stix.py
                                                Á¢∫‰øù STIX 2.1 Ê†ºÂºèÁ¨¶ÂêàÂúãÈöõÊ®ôÊ∫ñÔºåÂèØËàáÂ§ñÈÉ®Ë≥áÂÆâËÅØÁõüÂÖ±‰∫´„ÄÇ</span><span data-en><strong>Intel
                                                    Quality Control</strong> ‚Äî validate_stix.py ensures STIX 2.1
                                                compliance for sharing with external security alliances.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph5)">2</div>
                                        <div class="ph-step-t"><span data-zh><strong>Èï∑ÊïàÁü•Ë≠òÂØ´ÂÖ•</strong> ‚Äî
                                                setup_knowledge_base.py Â∞áÊîªÊìäËÄÖ TTPs Â≠òÂÖ• OpenSearch KNN
                                                ÂêëÈáèÂ∫´ÔºåË™ûÁæ©ÊêúÂ∞ãÁû¨ÈñìÂèçÊáâ„ÄÇ</span><span data-en><strong>Long-term Knowledge
                                                    Write</strong> ‚Äî setup_knowledge_base.py stores attacker TTPs in
                                                OpenSearch KNN vector DB for instant semantic recall.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph5)">3</div>
                                        <div class="ph-step-t"><span data-zh><strong>Âº∑ÂåñÂ≠∏ÁøíÂèçÈ•ã</strong> ‚Äî feedback_loop.py
                                                Ê†πÊìöÈò≤Á¶¶ÊàêÊïàËá™ÂãïË™øÊï¥ Commander AI Prompt Ê¨äÈáçÔºåÂÆåÊàê AI Brain Growth„ÄÇ</span><span
                                                data-en><strong>Reinforcement Feedback</strong> ‚Äî feedback_loop.py
                                                auto-adjusts Commander AI Prompt weights based on defense outcomes. AI
                                                Brain Growth achieved.</span></div>
                                    </div>
                                    <div class="ph-step">
                                        <div class="ph-step-n" style="background:var(--ph5)">4</div>
                                        <div class="ph-step-t"><span data-zh><strong>Âü∑Ë°åÈï∑Êà∞Â†±</strong> ‚Äî to_pdf.py ÊèêÂèñ Phase
                                                1‚Äì4 Êï∏ÊìöÔºåÁî¢Âá∫Á≤æÁæé PDF Executive ReportÔºåÊé®ÈÄÅËá≥ Dashboard„ÄÇ</span><span
                                                data-en><strong>Executive Report</strong> ‚Äî to_pdf.py extracts Phase 1‚Äì4
                                                data, generates a polished PDF Executive Report, and pushes it to the
                                                Dashboard.</span></div>
                                    </div>
                                </div>
                                <div class="ph-files"><span class="ph-file">validate_stix.py</span><span
                                        class="ph-file">setup_knowledge_base.py</span><span
                                        class="ph-file">feedback_loop.py</span><span class="ph-file">to_pdf.py</span>
                                </div>
                            </div>

                        </div><!-- /phases-grid -->
                    </div>
                </div>
            </div>
        </div>

        <!-- FLOW 3‚Üí4 -->
        <div class="flow-arrow">
            <div class="fa-track">
                <div class="fa-dot" style="background:var(--l3);animation-delay:.6s"></div>
                <div class="fa-dot" style="background:var(--l3);animation-delay:1.5s;opacity:.4"></div>
            </div>
            <div class="fa-line fa-left"></div>
            <div class="fa-label">
                <strong><span data-zh>Phase 5 ÂÆåÊàê <span class="mob-v-arrow">‚Üí</span> ÊàêÊûúËº∏Âá∫Ëá≥ Dashboard &
                        Reports</span><span data-en>Phase 5 Complete <span class="mob-v-arrow">‚Üí</span> Output to
                        Dashboard & Reports</span></strong>
                <span><span data-zh>PDF Êé®ÈÄÅ ¬∑ OpenSearch Êü•Ë©¢ ¬∑ Âç≥ÊôÇÊà∞ÊÉÖÊõ¥Êñ∞</span><span data-en>PDF push ¬∑ OpenSearch query ¬∑
                        live situation update</span></span>
            </div>
            <div class="fa-line fa-right"></div>
        </div>

        <!-- ‚ïê‚ïê LAYER 4 ‚ïê‚ïê -->
        <div class="layer l4-accent" id="ly4" style="transition-delay:.45s">
            <div class="layer-wrap l4-w">
                <div class="layer-hd" onclick="tog('ly4')">
                    <span class="lbadge">LAYER 04</span>
                    <span class="lname"><span data-zh>ÊàêÊûúÂ±ïÁ§∫ËàáËº∏Âá∫Â±§</span><span data-en>Output & Reporting
                            Layer</span></span>
                    <span class="lsub">DASHBOARD ¬∑ REPORTING ¬∑ app_ui.py ¬∑ to_pdf.py</span>
                    <span class="ltoggle">‚ñæ</span>
                </div>
                <div class="layer-body">
                    <div class="output-grid">

                        <div class="out-card oc-dash" onclick="showD('dash')">
                            <div class="oc-head">
                                <span class="oc-icon">üì°</span>
                                <div>
                                    <div class="oc-title"><span data-zh>ÂØ¶ÊôÇÊà∞ÊÉÖÂÆ§ Dashboard</span><span data-en>Live
                                            Operations Dashboard</span></div>
                                    <div class="oc-file">app_ui.py ¬∑ setup_dashboards.py ¬∑ <span data-zh>OpenSearch
                                            Âç≥ÊôÇÊü•Ë©¢</span><span data-en>OpenSearch live query</span></div>
                                </div>
                            </div>
                            <div class="oc-features">
                                <div class="oc-feat">
                                    <strong><span data-zh>Â®ÅËÑÖÂú∞Âúñ (Threat Map)</span><span data-en>Threat
                                            Map</span></strong>
                                    <span><span data-zh>Âç≥ÊôÇÈ°ØÁ§∫Èß≠ÂÆ¢ÊîªÊìä‰æÜÊ∫ê IP ËàáÂú∞ÁêÜ‰ΩçÁΩÆ„ÄÇ</span><span data-en>Real-time display of
                                            attacker source IPs and geographic origins.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>È†êÊ∏¨Âú∞Âúñ (Predictive Map)</span><span data-en>Predictive
                                            Map</span></strong>
                                    <span><span data-zh>È°ØÁ§∫ Phase 1 AI È†êÊ∏¨ÁöÑÊîªÊìäÊ©´ÂêëÁßªÂãïË∑ØÂæë„ÄÇ</span><span data-en>Visualizes the
                                            lateral movement paths predicted by the Phase 1 AI engine.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>MTD ÁãÄÊÖãÈù¢Êùø</span><span data-en>MTD Status Panel</span></strong>
                                    <span><span data-zh>È°ØÁ§∫Âì™‰∫õÊúçÂãôÊ≠£Âú®ËÆäÁï∞„ÄÅÂì™‰∫õËúúÁΩêË¢´Ëß∏Áôº„ÄÇ</span><span data-en>Shows which services are
                                            currently mutating and which honeypots have been triggered.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>Âç≥ÊôÇÂëäË≠¶‰∏≤ÊµÅ</span><span data-en>Live Alert Stream</span></strong>
                                    <span><span data-zh>Âæû OpenSearch Hot Tier ÊèêÂèñÊúÄÊñ∞ÂàÜÊûêÁµêÊûú„ÄÇ</span><span data-en>Pulls the
                                            latest analysis results from OpenSearch Hot Tier in real time.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>‰∫∫Â∑•Â†±Ê°àÂÖ•Âè£</span><span data-en>Manual Report
                                            Portal</span></strong>
                                    <span><span data-zh>IT ‰∫∫Âì°‰∏äÂÇ≥ Log / STIX ÁöÑÊìç‰ΩúÁïåÈù¢„ÄÇ</span><span data-en>The interface for
                                            IT staff to upload Logs or STIX threat reports.</span></span>
                                </div>
                            </div>
                        </div>

                        <div class="out-card oc-pdf" onclick="showD('pdf')">
                            <div class="oc-head">
                                <span class="oc-icon">üìã</span>
                                <div>
                                    <div class="oc-title"><span data-zh>Ëá™ÂãïÁµêÊ°àÂ†±Âëä PDF</span><span data-en>Auto-Generated
                                            PDF Report</span></div>
                                    <div class="oc-file">to_pdf.py ¬∑ to_stix.py ¬∑ <span data-zh>Phase 5 ADAPT
                                            Ëß∏Áôº</span><span data-en>Triggered by Phase 5 ADAPT</span></div>
                                </div>
                            </div>
                            <div class="oc-features">
                                <div class="oc-feat">
                                    <strong><span data-zh>Ëß∏ÁôºÊôÇÊ©ü</span><span data-en>Trigger Condition</span></strong>
                                    <span><span data-zh>Phase 5 ADAPT ÂÆåÊàêÂæåÔºåÂÅµÊ∏¨Âà∞ÂÆåÊï¥ÊîªÊìä‰∫ã‰ª∂ (Incident) ÁµêÊùü„ÄÇ</span><span
                                            data-en>Fires after Phase 5 ADAPT completes and a full attack Incident
                                            lifecycle is detected as closed.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>Ëá™Âãï‰∏≤ËÅØ</span><span data-en>Auto-Correlation</span></strong>
                                    <span><span data-zh>Â∞á Phase 1‚Äì4 ÂÆåÊï¥ÈÅéÁ®ãÔºöÁôºÁèæ ‚Üí Ë™òÊçï ‚Üí ËÆäÁï∞ ‚Üí ÂèçÊìäÔºå‰∏≤ËÅØÊàêÂÆåÊï¥ÊôÇÂ∫èÂ†±Âëä„ÄÇ</span><span
                                            data-en>Chains Phase 1‚Äì4 into a complete timeline: Detect ‚Üí Deceive ‚Üí Mutate
                                            ‚Üí Contain.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>STIX 2.1 Ê®ôÊ∫ñËº∏Âá∫</span><span data-en>STIX 2.1 Standard
                                            Output</span></strong>
                                    <span><span data-zh>Á¨¶ÂêàÂúãÈöõÊ®ôÊ∫ñÔºåÂèØËàáÂ§ñÈÉ®Ë≥áÂÆâËÅØÁõü‰∫§ÊèõÊÉÖË≥á„ÄÇ</span><span data-en>Meets international
                                            standards for sharing intelligence with external security
                                            alliances.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong>Executive Summary</strong>
                                    <span><span data-zh>Á≤æÁæé PDF Ëá™ÂãïÊé®ÈÄÅËá≥ Dashboard ‰æõÁÆ°ÁêÜÂì°‰∏ãËºâ„ÄÇ</span><span data-en>Polished PDF
                                            automatically pushed to the Dashboard for executive download.</span></span>
                                </div>
                                <div class="oc-feat">
                                    <strong><span data-zh>Êï∏‰ΩçÈëëË≠òÈôÑ‰ª∂</span><span data-en>Digital Forensics
                                            Annex</span></strong>
                                    <span><span data-zh>ÈôÑÂ∏∂ audit_logger ÁöÑ‰∏çÂèØÁ´ÑÊîπÁ®ΩÊ†∏Ë®òÈåÑ„ÄÇ</span><span data-en>Includes the
                                            immutable audit trail from audit_logger for legal and forensic
                                            use.</span></span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

    </div><!-- /main -->

    <!-- DETAIL PANEL -->
    <div class="detail-panel" id="dpanel">
        <span class="dp-close" onclick="closeD()">‚úï</span>
        <div class="dp-icon" id="dpIcon">üß†</div>
        <div class="dp-name" id="dpName">-</div>
        <div class="dp-body" id="dpBody">-</div>
        <div class="dp-steps" id="dpSteps"></div>
        <span class="dp-tag" id="dpTag">-</span>
    </div>

    <script>
        let currentLang = 'zh';

        function setLang(lang) {
            currentLang = lang;
            document.body.className = 'lang-' + lang;
            document.getElementById('btnZH').classList.toggle('active', lang === 'zh');
            document.getElementById('btnEN').classList.toggle('active', lang === 'en');
            // update open detail panel if visible
            if (document.getElementById('dpanel').classList.contains('show')) {
                showD(lastKey);
            }
        }

        function tog(id) { document.getElementById(id).classList.toggle('collapsed'); }

        document.querySelectorAll('.layer').forEach((el, i) => setTimeout(() => el.classList.add('in'), 80 + i * 180));

        const DET = {
            fluent: {
                icon: 'üõ°Ô∏è',
                name: { zh: 'Fluent Bit ‚Äî Êó•Ë™åÊî∂ÁôºÂì°', en: 'Fluent Bit ‚Äî Log Collector' },
                body: {
                    zh: 'Á¨¨‰∏ÄÁ∑öÂì®ÂÖµ„ÄÇ‰ª•Ê•µ‰ΩéË≥áÊ∫êÊ∂àËÄóÂæû‰º∫ÊúçÂô®„ÄÅK8s„ÄÅÈò≤ÁÅ´ÁâÜÂç≥ÊôÇÊî∂ÈõÜÂéüÂßã Log„ÄÇÊ†∏ÂøÉË®≠Ë®àÂéüÂâáÔºö‰∏çÂÅö AI ÂàÜÊûêÔºåÂè™Ë≤º Routing Key Ê®ôÁ±§ÂæåÈÄÅÂÖ• RabbitMQ„ÄÇÂÖ©‰ªΩ conf Ê™îÂàÜÂà•ËôïÁêÜÊ≠£Â∏∏ÂÖßÁ∂≤ÊµÅÈáèËàáËúúÁΩêË™òÊçïÊµÅÈáè„ÄÇ',
                    en: 'The first-line sentinel. Collects raw logs from servers, K8s, and firewalls with minimal resource overhead. Core design principle: no AI analysis ‚Äî only tagging with Routing Keys before publishing to RabbitMQ. Two conf files handle internal traffic and honeypot traffic separately.'
                },
                steps: {
                    zh: ['Step 1: ÂæûÂêÑÁØÄÈªûÊî∂ÈõÜÂéüÂßã LogÔºà‰∏çÂÅö AI ÂàÜÊûêÔºâ', 'Step 2: ‰æù Log ‰æÜÊ∫êËá™ÂãïË≤º Routing Key Ê®ôÁ±§', 'Step 3: Áµ±‰∏ÄÈÄÅÂÖ• RabbitMQ ÂÖßÈÉ®Áâ©ÊµÅÁ∏ΩÂ±Ä'],
                    en: ['Step 1: Collect raw logs from all nodes (no AI analysis)', 'Step 2: Auto-tag logs by source with Routing Keys', 'Step 3: Publish everything to the internal RabbitMQ hub']
                },
                tag: 'LOG COLLECTOR ¬∑ LAYER 1', bg: 'rgba(34,211,238,.15)', tc: '#22d3ee'
            },
            crawler: {
                icon: 'üïµÔ∏è‚Äç‚ôÇÔ∏è',
                name: { zh: 'Intelligence Crawler ‚Äî Â§ñÈÉ®ÊÉÖÂ†±ÁâπÂãô', en: 'Intelligence Crawler ‚Äî External Threat Scout' },
                body: {
                    zh: 'Áç®Á´ãÊéíÁ®ãÁöÑ Python ËÖ≥Êú¨Ôºå‰∏çÁ≠âË¢´ÊîªÊìäÊâçÂãï‰Ωú„ÄÇÊØèÂ∞èÊôÇ‰∏ªÂãïÂ∑°ÈÇè NVD„ÄÅAlienVault OTX„ÄÅISAC Âπ≥Âè∞ÔºåÊäìÂèñÊúÄÊñ∞ 0-day CVE ËàáÂÖ®ÁêÉÊ¥ªË∫çÊÉ°ÊÑè IP/Domain„ÄÇ‰∫ãÂâçÊÉÖÂ†±‰Ωø Commander AI ËÉΩÂú®ÊîªÊìäÁôºÁîüÂâçÂ∞±Â∞ÅÈéñÈÄöÁ∑ùÁäØ„ÄÇ',
                    en: 'A standalone scheduled Python script that acts proactively. Hourly patrols of NVD, AlienVault OTX, and ISAC platforms to harvest the latest 0-day CVEs and globally active malicious IPs/Domains. Proactive intel allows Commander AI to block attackers before they strike.'
                },
                steps: {
                    zh: ['Step 0: ÊéíÁ®ãÂÆöÊôÇÂá∫‰ªªÂãôÔºàÊØèÂ∞èÊôÇÔºâ', 'Step 1: Áà¨Âèñ NVD / AlienVault / ÊöóÁ∂≤ IOC', 'Step 2: ÊâìÂåÖÁÇ∫Ê®ôÊ∫ñ JSONÔºåË≤º intel.external Ê®ôÁ±§', 'Step 3: ÈÄÅÂÖ• RabbitMQ ‚Üí Commander AI Êé•Êî∂', 'Commander AI Âãï‰Ωú: Â≠òÂÖ• OpenSearch + CVE ÊØîÂ∞ç + ‰∫ãÂâçÂ∞ÅÈéñÊÉ°ÊÑè IP'],
                    en: ['Step 0: Scheduled task fires (hourly)', 'Step 1: Crawl NVD / AlienVault / dark web IOCs', 'Step 2: Package as standard JSON, tag intel.external', 'Step 3: Publish to RabbitMQ ‚Üí Commander AI receives', 'Commander AI: store in OpenSearch + CVE match + proactively block malicious IPs']
                },
                tag: 'EXTERNAL INTEL ¬∑ LAYER 1', bg: 'rgba(163,230,53,.15)', tc: '#a3e635'
            },
            manual: {
                icon: 'üë§',
                name: { zh: 'Manual Input ‚Äî ‰∫∫Â∑•Â†±Ê°à‰ªãÈù¢', en: 'Manual Input ‚Äî Human Upload Interface' },
                body: {
                    zh: 'IT ‰∫∫Âì°Êàñ SOC ÂàÜÊûêÂ∏´ÁöÑÊâãÂãïËº∏ÂÖ•ÈÄöÈÅì„ÄÇË®≠Ë®àÁ≤æÈ´ìÔºöÂæåÁ´Ø‰∏çÁõ¥Êé•ÂëºÂè´ LLMÔºåËÄåÊòØË≤ºÊ®ôÁ±§ÂæåÈÄÅÂÖ• RabbitMQ ÊéíÈöä„ÄÇÈÄôÊ®£Âç≥‰Ωø 100 ‰∫∫ÂêåÊôÇÊåâ‰∏äÂÇ≥ÔºåÁ≥ªÁµ±‰πü‰∏çÊúÉÂõ†ÁÇ∫Áû¨ÈñìÂ§ßÈáè LLM Ë´ãÊ±ÇËÄåÂ¥©ÊΩ∞„ÄÇ',
                    en: 'The manual input channel for IT staff and SOC analysts. Key design: the backend does NOT call the LLM directly ‚Äî it tags and queues to RabbitMQ. This means 100 simultaneous uploads will never crash the system with sudden LLM request spikes.'
                },
                steps: {
                    zh: ['Step 1: IT ‰∫∫Âì°ÈÄèÈÅé app_ui.py ‰∏äÂÇ≥ Log Êàñ STIX Â†±Âëä', 'Step 2: ÂæåÁ´ØË≤º alert.manual_upload Ê®ôÁ±§ÈÄÅÂÖ• RabbitMQ', 'Step 3: Commander AI ‰ª•ÊúÄÈ´òÂÑ™ÂÖàÁ¥öËôïÁêÜ‰∫∫Â∑•Â†±Ê°à'],
                    en: ['Step 1: IT staff uploads Log or STIX report via app_ui.py', 'Step 2: Backend tags alert.manual_upload and publishes to RabbitMQ', 'Step 3: Commander AI processes manual cases at highest priority']
                },
                tag: 'MANUAL INPUT ¬∑ LAYER 1', bg: 'rgba(245,158,11,.15)', tc: '#f59e0b'
            },
            rabbitmq: {
                icon: 'üöö',
                name: { zh: 'RabbitMQ ‚Äî ‰∏≠Ê®ûÁâ©ÊµÅÁ∏ΩÂ±Ä', en: 'RabbitMQ ‚Äî Central Message Hub' },
                body: {
                    zh: 'Êï¥ÂÄãÁ≥ªÁµ±ÁöÑÁ•ûÁ∂ì‰∏≠Ê®û„ÄÇAMQP ÂçîË≠∞Á¢∫‰øùÈ´òÂêûÂêêÈáèËàáÈõ∂‰∏üÂ§±„ÄÇÂÑ™ÂÖàÁ¥ö‰ΩáÂàóÔºàPriority QueueÔºâËÆì alert.critical Ê∞∏ÈÅ†ÊéíÂú®ÊúÄÂâçÈù¢„ÄÇDead Letter Queue Á¢∫‰øù‰ªª‰ΩïË®äÊÅØ‰∏çÊúÉÂõ†ÁÇ∫ËôïÁêÜÂ§±ÊïóËÄåÊ∂àÂ§±„ÄÇ',
                    en: 'The nervous system of the entire platform. AMQP protocol guarantees high throughput and zero message loss. Priority Queues ensure alert.critical always jumps to the front. Dead Letter Queues catch any failed messages so nothing is ever lost.'
                },
                steps: {
                    zh: ['Êé•Êî∂ÊâÄÊúâ Layer 1 ‰æÜÊ∫êÁöÑ Routing Key Ë®äÊÅØ', 'AI Worker Ë®ÇÈñ±Â∞çÊáâÈ†ªÈÅìÂÅöÈÇäÁ∑£ÈõúË®äÈÅéÊøæ', 'Drop Ê≠£Â∏∏ÊµÅÈáèÔºõÁï∞Â∏∏ÊµÅÈáèÂçáÁ¥öÁÇ∫ alert.critical', 'Commander AI Âè™Áõ£ËÅΩÈ´òÂç±È†ªÈÅìÔºåÈÅøÂÖçË≥áÊ∫êÊµ™Ë≤ª'],
                    en: ['Receives all Routing Key messages from Layer 1 sources', 'AI Workers subscribe to their channels for edge noise filtering', 'Normal traffic ‚Üí Drop; Anomalous traffic ‚Üí escalate as alert.critical', 'Commander AI only listens to high-risk channels, conserving LLM resources']
                },
                tag: 'MESSAGE BROKER ¬∑ LAYER 2', bg: 'rgba(163,230,53,.15)', tc: '#a3e635'
            },
            ph1: {
                icon: 'üî≠',
                name: { zh: 'Phase 1: PREDICT ‚Äî È†êÊ∏¨ËàáÈ¢®Èö™Ë©ï‰º∞', en: 'Phase 1: PREDICT ‚Äî Prediction & Risk Assessment' },
                body: {
                    zh: 'Â∞áÂéüÂßãÊï∏ÊìöËΩâÂåñÁÇ∫ÂèØÁ†îÂà§ÊÉÖË≥áÔºåÈáèÂåñÂ®ÅËÑÖÁ®ãÂ∫¶„ÄÇÈÄôÊòØÊï¥ÂÄã 5 ÈöéÊÆµÈò≤Á¶¶ÁöÑËµ∑ÈªûÔºå‰πüÊòØÊ±∫ÂÆöÂæåÁ∫åËß∏ÁôºÂì™‰∫õ Phase ÁöÑÈóúÈçµË©ïÂàÜÂºïÊìé„ÄÇ',
                    en: 'Converts raw data into actionable intelligence and quantifies threat level. This is the starting point of the entire 5-phase defense and the critical scoring engine that determines which subsequent Phases are triggered.'
                },
                steps: {
                    zh: ['S1: pii_masker.py Ê≠£ÂâáÈÅÆËîΩÂÄãË≥áÔºàGDPR ÂêàË¶èÔºâ', 'S2: cve_enrichment.py ÊØîÂ∞çÊºèÊ¥ûÂ∫´ + cmdb_mock.py Êü•Ë≥áÁî¢ÈáçË¶ÅÊÄß', 'S3: adversarial_engine.py + topology_graph.py È†êÊ∏¨Ê©´ÂêëÁßªÂãïË∑ØÂæë', 'S4: LLM Áµ¶Âá∫ 0‚Äì100 È¢®Èö™Ë©ïÂàÜ ‚Üí ‚â•70 Ëß∏Áôº PH2 ¬∑ ‚â•85 ÂêåÊ≠•Ëß∏Áôº PH3'],
                    en: ['S1: pii_masker.py masks PII via regex (GDPR compliant)', 'S2: cve_enrichment.py matches vuln DB + cmdb_mock.py checks asset criticality', 'S3: adversarial_engine.py + topology_graph.py predict lateral movement paths', 'S4: LLM outputs 0‚Äì100 risk score ‚Üí ‚â•70 triggers PH2 ¬∑ ‚â•85 also triggers PH3']
                },
                tag: 'PHASE 1 ¬∑ PREDICT', bg: 'rgba(6,182,212,.15)', tc: '#06b6d4'
            },
            ph2: {
                icon: 'üé≠',
                name: { zh: 'Phase 2: DECEIVE ‚Äî ÂãïÊÖãË™òÊçïËàáË≥áÊñôÊäïÊØí', en: 'Phase 2: DECEIVE ‚Äî Dynamic Deception & Data Poisoning' },
                body: {
                    zh: 'Âú®Èß≠ÂÆ¢ÈÄ≤ÊîªË∑ØÂæë‰∏ä‰ΩàÁΩÆÊï∏‰ΩçÈô∑Èò±„ÄÇÊ†∏ÂøÉÂâµÊñ∞Ôºö‰∏çÂè™ÊòØÊôÆÈÄöËúúÁΩêÔºåËÄåÊòØÁîüÊàêÂ∞àÈñÄË®≠Ë®àÁî®‰æÜËÆìÈß≠ÂÆ¢ AIÔºàWormGPTÔºâÁî¢ÁîüÂπªË¶∫ÁöÑÊØíÂåñÊï∏ÊìöÔºåÂæûË™çÁü•Â±§Èù¢Áì¶Ëß£Ëá™ÂãïÂåñÊîªÊìäÂ∑•ÂÖ∑ÁöÑÊ±∫Á≠ñÈÇèËºØ„ÄÇ',
                    en: 'Plants digital traps along the attacker\'s path. Core innovation: not just regular honeypots ‚Äî this generates poisoned data specifically engineered to cause hallucinations in attacker AIs (WormGPT), dismantling automated attack tools at the cognitive level.'
                },
                steps: {
                    zh: ['S1: decoy_manager.py ÈÅ∏ÊìáÊúÄËÉΩÂê∏ÂºïÈß≠ÂÆ¢ÁöÑË™òÈ§åÊ®°Êùø', 'S2: ÁîüÊàê fake_secrets.json / poisoned_db.sqlÔºàÊäïÊØíÈß≠ÂÆ¢ AIÔºâ', 'S3: Docker Python SDK Âú®Êï∏ÁßíÂÖßÊãâËµ∑Ë™òÈ§åÂÆπÂô®', 'S4: honeypot_fluent_bit.conf ÂõûÂÇ≥Á¥îÊ∑®Èß≠ÂÆ¢ÊåáÁ¥ãË°åÁÇ∫'],
                    en: ['S1: decoy_manager.py selects the most enticing decoy template', 'S2: Generates fake_secrets.json / poisoned_db.sql (poisons attacker AI)', 'S3: Docker Python SDK spins up decoy containers within seconds', 'S4: honeypot_fluent_bit.conf returns clean attacker fingerprint behavior']
                },
                tag: 'PHASE 2 ¬∑ DECEIVE ‚ú¶ NEXT-GEN', bg: 'rgba(139,92,246,.15)', tc: '#8b5cf6'
            },
            ph3: {
                icon: 'üåÄ',
                name: { zh: 'Phase 3: MUTATE ‚Äî ÁßªÂãïÁõÆÊ®ôÈò≤Á¶¶ MTD', en: 'Phase 3: MUTATE ‚Äî Moving Target Defense (MTD)' },
                body: {
                    zh: 'ËÆìÁúüÂØ¶ÊîªÊìäÈù¢‰∏çÊñ∑ËÆäÂãïÔºåËÆìÈß≠ÂÆ¢ÁúãÂæóÂà∞„ÄÅÊâì‰∏çÂà∞„ÄÇÊ†∏ÂøÉÂâµÊñ∞ÔºöÊØèÊ¨°Â§ßË¶èÊ®°ËÆäÁï∞ÂâçÔºåÂÖàÂú® Cyber Digital Twin Âπ≥Ë°åÂÆáÂÆô‰∏≠Ê®°Êì¨ÔºåÁ¢∫Ë™ç‰∏çÂΩ±ÈüøÊ≠£Â∏∏Ê•≠ÂãôÂæåÊâçÂü∑Ë°åÔºåÂæπÂ∫ïÊ∂àÈô§Ë™§ÊÆ∫È¢®Èö™„ÄÇ',
                    en: 'Keeps the real attack surface in constant motion ‚Äî the attacker can see it but can\'t hit it. Core innovation: every large-scale mutation is first simulated in the Cyber Digital Twin parallel universe, confirmed to have zero business impact, then executed.'
                },
                steps: {
                    zh: ['S1: mtd_controller.py Âà§ÂÆöËÆäÁï∞Á≠ñÁï•ÔºàËºïÂæÆÊ∑∑Ê∑Ü or ÂæπÂ∫ïÈÅ∑ÁßªÔºâ', 'S2: obfuscation_engine.py ÂãïÊÖãÊõ¥Êèõ URL / Header / Âä†ÂØÜÊñπÂºè', 'S3: Cyber Digital Twin Ê®°Êì¨ ‚Üí Zero Downtime È©óË≠âÈÄöÈÅéÊâçÂÖÅË®±', 'S4: migration_engine.py ËóçÁ∂†ÈÉ®ÁΩ≤ ‚Üí ËàäÁí∞Â¢ÉÈä∑ÊØÄ ‚Üí Èß≠ÂÆ¢Â§±ÂéªÁõÆÊ®ô'],
                    en: ['S1: mtd_controller.py decides mutation strategy (light obfuscation vs full migration)', 'S2: obfuscation_engine.py dynamically rotates URLs, headers, and encryption', 'S3: Cyber Digital Twin simulation ‚Üí Zero Downtime confirmed ‚Üí execution authorized', 'S4: migration_engine.py blue-green deploy ‚Üí old environment destroyed ‚Üí attacker loses target']
                },
                tag: 'PHASE 3 ¬∑ MUTATE ‚ú¶ NEXT-GEN', bg: 'rgba(245,158,11,.15)', tc: '#f59e0b'
            },
            ph4: {
                icon: 'üö®',
                name: { zh: 'Phase 4: CONTAIN ‚Äî Ëá™ÂãïÂåñÈòªÊñ∑ËàáÈöîÈõ¢', en: 'Phase 4: CONTAIN ‚Äî Automated Containment & Isolation' },
                body: {
                    zh: 'Ê≠£Âºè‰ªãÂÖ•ÔºåÂØ¶È´îÂàáÊñ∑Â®ÅËÑÖ‰∏¶‰øÆÂæ©Ê†πÊú¨ÂéüÂõ†„ÄÇ‰∏âÂÄãÂπ≥Ë°åÂãï‰ΩúÔºöSOAR Â∞ÅÈéñ IP„ÄÅIaC Ëá™Êàë‰øÆÂæ©ÊºèÊ¥û‰ª£Á¢º„ÄÅAudit Logger Ë®òÈåÑÂÆåÊï¥Ë≠âÊìöÈèà„ÄÇ',
                    en: 'Full intervention ‚Äî physically cuts off the threat and fixes the root cause. Three parallel actions: SOAR blocks the IP, IaC self-heals the vulnerable code, and Audit Logger records the complete evidence chain.'
                },
                steps: {
                    zh: ['S1: to_stix.py Ëº∏Âá∫Ê®ôÊ∫ñÂ®ÅËÑÖÊÉÖË≥á + LLM Êí∞ÂØ´ soar_playbook.json', 'S2: mock_soar.py ‚Üí firewall_mock.py ‚Üí REJECT Â∞ÅÈéñÊîªÊìäÊ∫ê IP', 'S3: AI ÂàÜÊûêÊºèÊ¥ûÊ†πÂõ† ‚Üí Ëá™ÂãïÂØ´ Patch ‚Üí GitHub PR ‚Üí CI/CD ÈáçÈÉ®ÁΩ≤', 'S4: audit_logger.py ÂØ´ÂÖ•‰∏çÂèØÁ´ÑÊîπÁöÑÊôÇÈñìÊà≥Ë®òÁ®ΩÊ†∏Ë®òÈåÑ'],
                    en: ['S1: to_stix.py outputs standard threat intel + LLM writes soar_playbook.json', 'S2: mock_soar.py ‚Üí firewall_mock.py ‚Üí REJECT blocks attacker IP', 'S3: AI analyzes vuln root cause ‚Üí auto-writes Patch ‚Üí GitHub PR ‚Üí CI/CD redeploys', 'S4: audit_logger.py writes immutable timestamped audit record']
                },
                tag: 'PHASE 4 ¬∑ CONTAIN', bg: 'rgba(239,68,68,.15)', tc: '#ef4444'
            },
            ph5: {
                icon: 'üå±',
                name: { zh: 'Phase 5: ADAPT ‚Äî Â§ßËÖ¶Ëá™ÊàëÈÄ≤Âåñ', en: 'Phase 5: ADAPT ‚Äî Brain Self-Evolution' },
                body: {
                    zh: 'Â∞á‰∏ÄÊ¨°ÊÄßÈò≤Á¶¶ËΩâÂåñÁÇ∫Ê∞∏‰πÖÂÖçÁñ´Âäõ„ÄÇÊØè‰∏ÄÊ¨°ÊàêÂäüÊàñÂ§±ÊïóÁöÑÈò≤Á¶¶ÈÉΩÊúÉÊàêÁÇ∫ Commander AI ÁöÑÈ§äÂàÜÔºåÈÄöÈÅé RLHF ËÆìÁ≥ªÁµ±Âú®ÊØèÊ¨°‰∫ã‰ª∂ÂæåËÆäÂæóÊõ¥ËÅ∞Êòé„ÄÇ',
                    en: 'Converts a one-time defense into permanent immunity. Every successful or failed defense feeds Commander AI, using RLHF to make the system measurably smarter after each incident.'
                },
                steps: {
                    zh: ['S1: validate_stix.py ÂìÅË≥™ÊéßÁÆ°ÔºàSTIX 2.1 ÂúãÈöõÊ®ôÊ∫ñÔºâ', 'S2: setup_knowledge_base.py Â∞áÊîªÊìä TTPs Â≠òÂÖ• OpenSearch KNN ÂêëÈáèÂ∫´', 'S3: feedback_loop.py RLHF Ë™øÊï¥ Commander AI Prompt Ê¨äÈáç', 'S4: to_pdf.py Áî¢Âá∫ Executive Report ‚Üí Êé®ÈÄÅËá≥ Dashboard'],
                    en: ['S1: validate_stix.py quality control (STIX 2.1 international standard)', 'S2: setup_knowledge_base.py stores attack TTPs in OpenSearch KNN vector DB', 'S3: feedback_loop.py RLHF adjusts Commander AI Prompt weights', 'S4: to_pdf.py generates Executive Report ‚Üí pushed to Dashboard']
                },
                tag: 'PHASE 5 ¬∑ ADAPT', bg: 'rgba(16,185,129,.15)', tc: '#10b981'
            },
            dash: {
                icon: 'üì°',
                name: { zh: 'ÂØ¶ÊôÇÊà∞ÊÉÖÂÆ§ ‚Äî Dashboard', en: 'Live Operations Dashboard' },
                body: {
                    zh: 'È´òÈöé‰∏ªÁÆ°Ëàá SOC ÂàÜÊûêÂ∏´ÁöÑÁµ±‰∏Ä‰ΩúÊà∞ÁïåÈù¢„ÄÇÊâÄÊúâÊï∏Êìö‰æÜËá™ OpenSearch Âç≥ÊôÇÊü•Ë©¢„ÄÇÈõÜÊàêÂ®ÅËÑÖÂú∞Âúñ„ÄÅAI È†êÊ∏¨Ë∑ØÂæëË¶ñË¶∫Âåñ„ÄÅMTD ÁãÄÊÖãÁõ£ÊéßËàá‰∫∫Â∑•Â†±Ê°àÂÖ•Âè£Êñº‰∏ÄÈ´î„ÄÇ',
                    en: 'The unified command interface for executives and SOC analysts. All data is sourced from OpenSearch live queries. Integrates Threat Map, AI-predicted lateral movement visualization, MTD status monitoring, and the manual report portal.'
                },
                steps: {
                    zh: ['Âæû OpenSearch Hot Tier Âç≥ÊôÇÊãâÂèñÊúÄÊñ∞ÂëäË≠¶', 'È°ØÁ§∫ Phase 1 È†êÊ∏¨ÁöÑÊîªÊìäÊ©´ÂêëÁßªÂãïË∑ØÂæëÂú∞Âúñ', 'È°ØÁ§∫ Phase 2/3 ÁöÑËúúÁΩêËß∏ÁôºÁãÄÊÖãËàá MTD ËÆäÁï∞ÈÄ≤Â∫¶', 'Êé•Êî∂ Phase 5 Ëá™ÂãïÊé®ÈÄÅÁöÑ PDF Âü∑Ë°åÊëòË¶ÅÂ†±Âëä'],
                    en: ['Pulls latest alerts from OpenSearch Hot Tier in real time', 'Displays Phase 1 predicted lateral movement path map', 'Shows Phase 2/3 honeypot trigger status and MTD mutation progress', 'Receives Phase 5 auto-pushed PDF executive summary report']
                },
                tag: 'OUTPUT ¬∑ LAYER 4', bg: 'rgba(129,140,248,.15)', tc: '#818cf8'
            },
            pdf: {
                icon: 'üìã',
                name: { zh: 'Ëá™ÂãïÁµêÊ°àÂ†±Âëä PDF', en: 'Auto-Generated Incident PDF Report' },
                body: {
                    zh: 'Phase 5 ADAPT ÂÆåÊàêÂæåËá™ÂãïËß∏Áôº„ÄÇËá™ÂãïÂ∞á Phase 1‚Äì4 ÁöÑÂÆåÊï¥Èò≤Á¶¶ÈÅéÁ®ã‰∏≤ËÅØÊàê‰∏Ä‰ªΩÁ≤æÁæéÁöÑÂü∑Ë°åÊëòË¶ÅÂ†±ÂëäÔºåÁ¨¶Âêà STIX 2.1 ÂúãÈöõÊ®ôÊ∫ñÔºåÂèØÊèê‰∫§Ê≥ïË¶èÊ©üÈóúÊàñËàáÂ§ñÈÉ®Ë≥áÂÆâËÅØÁõüÂÖ±‰∫´„ÄÇ',
                    en: 'Automatically triggered after Phase 5 ADAPT completes. Chains the full Phase 1‚Äì4 defense lifecycle into a polished Executive Summary Report, compliant with STIX 2.1 international standards for regulatory submission or alliance sharing.'
                },
                steps: {
                    zh: ['Phase 5 ÂÅµÊ∏¨Âà∞ÂÆåÊï¥ÊîªÊìä‰∫ã‰ª∂ (Incident) ÁµêÊùü', 'to_stix.py ÂΩôÊï¥Ê®ôÊ∫ñÂ®ÅËÑÖÊÉÖË≥áÊ†ºÂºè', 'to_pdf.py ÊèêÂèñ Phase 1‚Äì4 ÈóúÈçµÊï∏ÊìöËàáÂúñË°®', 'PDF Ëá™ÂãïÊé®ÈÄÅËá≥ Dashboard ‰æõÁÆ°ÁêÜÂì°‰∏ãËºâ'],
                    en: ['Phase 5 detects a complete attack Incident lifecycle has closed', 'to_stix.py consolidates standard threat intel format', 'to_pdf.py extracts Phase 1‚Äì4 key data and charts', 'PDF auto-pushed to Dashboard for executive download']
                },
                tag: 'OUTPUT ¬∑ LAYER 4', bg: 'rgba(129,140,248,.15)', tc: '#818cf8'
            },
        };

        let lastKey = '';
        function showD(k) {
            const d = DET[k]; if (!d) return;
            lastKey = k;
            const L = currentLang;
            document.getElementById('dpIcon').textContent = d.icon;
            document.getElementById('dpName').textContent = d.name[L];
            document.getElementById('dpBody').textContent = d.body[L];
            document.getElementById('dpSteps').innerHTML = d.steps[L].map((s, i) => `
    <div class="dp-step">
      <div class="dp-step-n" style="background:${d.tc}">${i + 1}</div>
      <span>${s}</span>
    </div>`).join('');
            const t = document.getElementById('dpTag');
            t.textContent = d.tag; t.style.background = d.bg; t.style.color = d.tc;
            document.getElementById('dpanel').classList.add('show');
        }
        function closeD() { document.getElementById('dpanel').classList.remove('show'); }
        document.addEventListener('click', e => {
            const p = document.getElementById('dpanel');
            if (p.classList.contains('show') && !p.contains(e.target) && !e.target.closest('[onclick]')) closeD();
        });
    </script>
</body>

</html>